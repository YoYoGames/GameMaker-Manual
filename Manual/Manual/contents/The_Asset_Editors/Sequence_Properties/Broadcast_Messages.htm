<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Mensagens de radiodifusão</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../assets/css/default.css" type="text/css" />
  <script src="../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page detailing the dope sheet" />
  <meta name="rh-index-keywords" content="Sequences - Broadcast Messages" />
  <meta name="search-keywords" content="broadcast,messages,broadcast messages" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Mensagens de radiodifusão</h1>
  <p>Tanto <a href="../Sequences.htm">as Seqüências</a> como os <a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprites.htm">Sprites</a> podem gerar o que são chamados de <strong>mensagens transmitidas</strong> em qualquer ponto de sua extensão. Essas mensagens são simples <span class="notranslate">strings</span> que são adicionadas a frames específicos ao longo da animação <span class="notranslate">timeline</span>, e quando esse ponto no <span class="notranslate">timeline</span> for alcançado, então o <span class="notranslate">string</span> será transmitido para todas as instâncias que o ouvirem. Qualquer instância que tenha um <a href="../Object_Properties/Other_Events.htm">Evento de Mensagem de Radiodifusão</a> (encontrado na categoria de eventos &quot;<strong>Outros</strong>&quot;) receberá a mensagem <span class="notranslate">string</span> quando for alcançada no <span class="notranslate">timeline</span>, e quando esse ponto for atingido, caberá a você ter algum código que a analisará e reagirá de acordo. Observe também que <span class="notranslate">sequences</span> também pode ouvir as mensagens transmitidas, mas isto exige que você primeiro configure o método de ouvinte usando código (veja a seção <span class="notranslate">GML</span> sobre <a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sequences/Sequence_Events_Moments_Broadcast.htm">Eventos e Momentos Sequenciais</a> para mais informações).</p>
  <p class="note"><strong><span class="note">NOTA</span></strong> A definição do <strong>índice de imagem </strong>de uma instância diretamente em um frame <em>não</em> acionará nenhuma mensagem de difusão que possa estar presente nesse frame do objeto <span class="notranslate">sprite</span>.</p>
  <p>Para adicionar uma mensagem de radiodifusão ao <span class="notranslate">sequence</span> ou <span class="notranslate">sprite</span> <span class="notranslate">timeline</span>, basta clicar no botão <img>. Isto abrirá um diálogo onde você poderá adicionar a mensagem a ser transmitida:</p>
  <p class="dropspot"><img alt="Broadcast Message Button Icon" class="icon" src="../../assets/Images/Icons/Icon_Broadcast.png" /></p>
  <p>Uma vez adicionada, a mensagem será mostrada no <span class="notranslate">Dope Sheet</span> (ou na visualização do quadro <span class="notranslate">sprite</span> ). Para editá-la, você deve clicar com o botão direito do mouse <img> no ícone da mensagem para abrir uma lista de todas as mensagens que se sobrepõem ao quadro (só pode haver uma mensagem em um quadro, mas colocar várias mensagens em quadros consecutivos fará com que elas se sobreponham visualmente, tornando mais difícil selecionar aquela que você deseja e você pode ter uma mensagem e um <a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sequences/Sequence_Events_Moments_Broadcast.htm">momento</a> no mesmo quadro também), e então selecionar uma desta lista abrirá o diálogo da mensagem onde você pode editá-la ou removê-la.</p>
  <p>Quando um evento de Mensagem de Radiodifusão é acionado, haverá um <a href="../../GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/DS_Maps.htm">Mapa DS</a> especial criado e armazenado na variável incorporada <span class="inline">event_data</span>. Esta variável ID é uma variável de escopo <em>global </em>embutida, mas só conterá dados de mapa DS no evento que acionou - neste caso o evento de Mensagem de Radiodifusão - e retornará -1 em todos os outros momentos. As chaves que o evento terá são as seguintes:</p>
  <table>
    <colgroup>
      <col />
      <col />
      <col />
    </colgroup>
    <tbody>
      <tr>
        <th colspan="3"><span data-keyref="Type_Struct_Message_Event"><a data-rhwidget="HyperlinkPopover" href="../../../The_Asset_Editors/Sequence_Properties/Broadcast_Messages.htm">Mensagem Estrutura do evento</a></span></th>
      </tr>
      <tr>
        <th>Variável</th>
        <th>Tipo</th>
        <th>Descrição</th>
      </tr>
      <tr>
        <td><span class="inline">event_type</span></td>
        <td><span data-keyref="Type_String"><a data-rhwidget="HyperlinkPopover" href="../../../GameMaker_Language/GML_Overview/Data_Types.htm">Cordão</a></span></td>
        <td>Este será o <span class="notranslate">string</span> &quot;<span class="inline">sequence event</span>&quot; para uma mensagem enviada de um <span class="notranslate">Sequence</span> e &quot;<span class="inline">sprite event</span>&quot; para uma mensagem enviada de um <span class="notranslate">Sprite</span>.</td>
      </tr>
      <tr>
        <td><span class="inline">message</span></td>
        <td><span data-keyref="Type_String"><a data-rhwidget="HyperlinkPopover" href="../../../GameMaker_Language/GML_Overview/Data_Types.htm">Cordão</a></span></td>
        <td>Esta contém a mensagem <span class="notranslate">string</span> que foi recebida.</td>
      </tr>
      <tr>
        <td><span class="inline">element_id</span></td>
        <td><span data-keyref="Type_ID_Layer_Element"><a data-rhwidget="HyperlinkPopover" href="../../../GameMaker_Language/GML_Reference/Asset_Management/Rooms/General_Layer_Functions/layer_get_all_elements.htm">Identificação do elemento da camada</a></span></td>
        <td>Este contém a identificação do elemento da camada (seqüência/escrita/instância) que disparou a mensagem. Você pode então usar este valor de identificação para descobrir que tipo de elemento gerou a mensagem usando a função <a href="../../GameMaker_Language/GML_Reference/Asset_Management/Rooms/General_Layer_Functions/layer_get_element_type.htm"><span class="inline">layer_get_element_type()</span></a> e usar as outras funções relevantes para direcioná-lo, ou executar uma ação como tocar um som, conforme necessário.</td>
      </tr>
    </tbody>
  </table>
  <p>Observe que o evento de transmissão de uma mensagem de uma instância receberá múltiplos <span class="notranslate">strings</span> para cada uma das vezes que uma mensagem de transmissão for enviada. Você não precisa agir em todas elas, e pode ter diferentes instâncias ouvindo para diferentes transmissões <span class="notranslate">strings</span>. Entretanto, você pode ter uma instância que está ouvindo mensagens que podem ser recebidas ao mesmo tempo. Quando isto acontecer, o evento será acionado várias vezes - <em>uma vez para cada cadeia de mensagens</em>.</p>
  <p>Abaixo está um breve exemplo de como este evento pode ser verificado:</p>
  <p class="code">if event_data[? &quot;event_type&quot;] == &quot;sequence event&quot; // or you can check &quot;sprite event&quot;<br />
    {<br />
        switch (event_data[? &quot;message&quot;])<br />
        {<br />
            case &quot;hit&quot;:<br />
                audio_play_sound(snd_hit, 0, false);<br />
            break;<br />
    <br />
            case &quot;destroy&quot;:<br />
                sequence_destroy(event_data[? &quot;element_id&quot;]);<br />
            break;<br />
        }<br />
    }
  </p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Voltar: <a href="../Sequences.htm">Sequências</a></div>
        <div style="float:right">A seguir: <a href="The_Sequence_Canvas.htm">A Tela <span class="notranslate">Sequence</span> </a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Todos os direitos reservados</span></h5>
  </div>
  <!-- KEYWORDS
Sequences - Broadcast Messages
Broadcast Messages
-->
  <!-- TAGS
sequences_broadcast_messages
-->
</body>
</html>