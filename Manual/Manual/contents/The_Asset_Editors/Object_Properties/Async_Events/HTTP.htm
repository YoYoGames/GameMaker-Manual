<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>HTTP</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page detailing the HTTP async event." />
  <meta name="rh-index-keywords" content="Objects - Async HTTP Event" />
  <meta name="search-keywords" content="HTTP,ev_web_async" />
  <link rel="stylesheet" type="text/css" href="../../../assets/css/default.css" />
  <script src="../../../assets/scripts/main_script.js"></script>
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>HTTP</h1>
  <p><img>O Evento HTTP é aquele que é acionado pela <a class="glossterm" data-glossterm="ligação de retorno" href="#">chamada de retorno de</a> uma das <a href="../../../GameMaker_Language/GML_Reference/Asynchronous_Functions/HTTP/HTTP.htm">funções<span class="inline">http_*()</span> </a>, como <a href="../../../GameMaker_Language/GML_Reference/Asynchronous_Functions/HTTP/http_post_string.htm"><span class="inline">http_post_string()</span></a>. Ele realmente gera um <a href="../../../GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/DS_Maps.htm">DS Map</a> que é exclusivo para este evento e é armazenado na variável especial <span class="inline"><a href="../../../GameMaker_Language/GML_Overview/Variables/Builtin_Global_Variables/async_load.htm">async_load</a> </span>(veja as funções individuais para exemplos de código que explicam o uso deste evento em mais detalhes). Este mapa DS tem a seguinte estrutura geral:</p>
  <ul class="dropspotlist">
    <li class="dropspot">&quot;<span class="inline">id</span>&quot;: A identificação que foi devolvida do comando. Se você disparar uma série de pedidos <span class="inline">http_</span> então você precisa saber qual deles você está recebendo a resposta, e assim você usaria este valor para comparar com o valor que você armazenou quando você originalmente enviou o pedido para encontrar o correto.</li>
    <li class="dropspot">&quot;<span class="inline">status</span>&quot;: Retorna um valor inferior a 0 para um erro, 0 para o sucesso e 1 se o conteúdo estiver sendo baixado.</li>
    <li class="dropspot">&quot;<span class="inline">result</span>&quot;: Os dados recebidos (<span class="notranslate">string</span> apenas), ou o <span class="notranslate">path</span> para o arquivo baixado se você tiver usado <a href="../../../GameMaker_Language/GML_Reference/Asynchronous_Functions/HTTP/http_get_file.htm"><span class="inline">http_get_file()</span></a>. Você só pode obter esta chave se o status for 0, mas isso é dependente da plataforma.</li>
    <li class="dropspot">&quot;<span class="inline">url</span>&quot;: O URL completo que você solicitou.</li>
    <li class="dropspot">&quot;<span class="inline">http_status</span>&quot;: O código de status http bruto (se disponível). Isto retorna o código de status padrão da web para a maioria dos navegadores, por exemplo: 304 para &quot;Não modificado&quot; ou 204 para &quot;Sem conteúdo&quot;, etc...</li>
  </ul>
  <p>O acima mostra o que você recebe quando usa o <a href="../../../GameMaker_Language/GML_Reference/Asynchronous_Functions/HTTP/http_post_string.htm"><span class="inline">http_post_string()</span></a> mas cada uma das funções <span class="inline">http_</span> pode retornar um mapa ligeiramente diferente, portanto, consulte a entrada manual de cada função para descobrir os dados precisos que são retornados para ela.</p>
  <p class="note"><strong>NOTA</strong>: Como <span style="font-size:14px;"><span class="inline" style="font-size: 14px">async_load </span></span>cria um mapa DS, estas funções são particularmente úteis quando acopladas com o <a href="../../../GameMaker_Language/GML_Reference/File_Handling/Encoding_And_Hashing/json_encode.htm"><span class="inline" style="font-size: 14px">json_encode()</span></a> e <a href="../../../GameMaker_Language/GML_Reference/File_Handling/Encoding_And_Hashing/json_decode.htm"><span class="inline" style="font-size: 14px">json_decode()</span></a> funções.</p>
  <p>Também pode haver dados adicionais fornecidos por este mapa se você tiver solicitado arquivos para download. Neste caso, o &quot;status&quot; terá o valor 1 e o mapa DS terá estas chaves extras:</p>
  <ul class="dropspotlist">
    <li class="dropspot">&quot;<span class="inline">contentLength</span>&quot;: Este é o tamanho do arquivo que a web <span class="notranslate">server</span> disse que você deve esperar receber (pode ser -1 se o <span class="notranslate">server</span> não devolver estes dados).</li>
    <li class="dropspot">&quot;<span class="inline">sizeDownloaded</span>&quot;: O tamanho dos dados que já foram baixados.</li>
  </ul>
  <p>Note que o evento não será acionado para cada pacote de dados que for recebido, mas será atualizado a qualquer momento durante o download dentro do jogo principal <span class="notranslate">loop</span>. Observe também que atualmente esta funcionalidade está disponível apenas para as plataformas alvo regulares <span class="notranslate">Windows</span>.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Voltar: <a href="../Async_Events.htm">Eventos Async</a></div>
        <div style="float:right">A seguir: <a href="IAP.htm">Na compra de aplicativos</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Todos os direitos reservados</span></h5>
  </div>
  <!-- KEYWORDS
Asynchronous HTTP Event
ev_web_async
-->
  <!-- TAGS
ev_web_async
-->
</body>
</html>