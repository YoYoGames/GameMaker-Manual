<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>file_find_close</title>
  <meta name="generator" content="Adobe RoboHelp 2022" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Reference page for file_find_close" />
  <meta name="rh-index-keywords" content="file_find_close" />
  <meta name="search-keywords" content="file_find_close" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><span data-field="title" data-format="default">file_find_close</span></h1>
  <p>This function must be called after handling files opened using <span class="inline3_func"><a data-xref="{title}" href="file_find_first.htm">file_find_first</a></span> and <span class="inline3_func"><a data-xref="{title}" href="file_find_next.htm">file_find_next</a></span> functions to free memory. The file find functions open handles into the file directory and these take up a minimal amount of memory, which (over time) adds up. Therefore you should always call this function after you have found the files you require to &quot;close&quot; these handles.</p>
  <div data-conref="../../../../assets/snippets/Note_wont_work_on_html5_and_gx.hts"> </div>
  <p> </p>
  <h4>Syntax:</h4>
  <p class="code"><span data-field="title" data-format="default">file_find_close</span>();</p>
  <p> </p>
  <h4>Returns</h4>
  <p class="code"><span data-keyref="Type_Void">N/A</span></p>
  <p> </p>
  <h4>Example:</h4>
  <p class="code">if (directory_exists(&quot;/User Content&quot;))<br />
    {<br />
        fileA = file_find_first(&quot;/User Content/*.doc&quot;, fa_readonly);<br />
        fileB = file_find_next();<br />
        fileC = file_find_next();<br />
        file_find_close();<br />
    }</p>
  <p>This code checks if the specified directory exists and if it does, goes there and returns the first &quot;read-only&quot; <span class="inline2">.doc</span> file found. It then looks for two more files and closes the file finder.</p>
  <p>You can look for any number of files using a <a data-xref="{title}" href="../../../GML_Overview/Language_Features/while.htm">while</a> loop:</p>
  <p class="code">var _files = [];<br />
    var _file_name = file_find_first(&quot;/User Content/*.doc&quot;, fa_readonly);<br />
    <br />
    while (_file_name != &quot;&quot;)<br />
    {<br />
        array_push(_files, _file_name);<br />
    <br />
        _file_name = file_find_next();<br />
    }<br />
    <br />
    file_find_close();
  </p>
  <p>The above code creates an empty array to store all the file names that were found, and starts looking for read-only <span class="inline2">.doc</span> files. If that file name is not an empty string, it pushes it into the <span class="inline2">_files</span> array, and then attempts to find the next file. The loop will keep repeating until an empty string is returned (meaning there are no more matching files), which is when it ends the loop and closes the file finder at the end.</p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a data-xref="{title}" href="File_System.htm">File System</a></div>
        <div style="float:right">Next: <a data-xref="{title}" href="file_attributes.htm">file_attributes</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2025 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
file_find_close
-->
  <!-- TAGS
file_find_close
-->
</body>
</html>