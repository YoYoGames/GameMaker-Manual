<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <title>time_source_create</title>
  <meta name="topic-status" content="Draft" />
  <link rel="stylesheet" type="text/css" href="../../../assets/css/default.css" />
  <script src="../../../assets/scripts/main_script.js"></script>
  <meta name="template" content="../../../assets/masterpages/Manual_Keyword_Page.htt" />
  <meta name="rh-authors" content="Gurpreet S. Matharoo" />
  <meta name="topic-comment" content="Reference page for time_source_create" />
  <meta name="rh-index-keywords" content="time_source_create" />
  <meta name="search-keywords" content="time_source_create" />
</head>
<body>
  <h1>time_source_create</h1>
  <p>Esta função cria uma nova <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span>. Leia as <a data-xref="{title}" href="Time_Sources.htm">fontes de tempo</a> para uma visão geral.</p>
  <p>A criação de uma nova <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span> não inicia automaticamente; você deve chamar <a href="time_source_start.htm"><span class="inline">time_source_start()</span></a> para ativá-lo.</p>
  <p>Uma nova <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span> só funciona uma vez, a menos que o argumento <span class="inline2">das repetições</span> seja especificado (leia abaixo).</p>
  <p>Você deve destruir uma <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span> usando <a href="time_source_destroy.htm"><span class="inline">time_source_destroy()</span></a> quando você não precisa mais dele.</p>
  <h2>Argumentos</h2>
  <p>Aqui está uma explicação dos argumentos da função:</p>
  <h3><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down1" href="#">Fonte de tempo dos pais</a></h3>
  <div class="droptext" data-targetname="drop-down1">
    <p class="dropspot">Esta é a <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span> mãe que controla a nova <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span>. Esta pode ser uma fonte de <span class="inline2">tempo global</span>, um <span class="inline2">jogo de tempo</span> ou uma <span data-keyref="Type_Resource_TimeSource">fonte de tempo</span> personalizada que já existe.<br>
      <br>
      Veja: <a data-xref="{title}" href="Built_In_Time_Sources.htm">Fontes de tempo incorporadas</a>
    </p>
  </div>
  <h3><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down2" href="#">Período</a></h3>
  <div class="droptext" data-targetname="drop-down2">
    <p class="dropspot">Este é um período de tempo que pode ser expresso em segundos ou quadros, dependendo da unidade especificada no próximo argumento.</p>
    <p class="dropspot">Ao utilizar armações como unidade, o período deve ser um número inteiro. Os valores não inteiros são arredondados para baixo (piso), com exceção dos valores inferiores a 1, que são arredondados para cima para 1.</p>
  </div>
  <h3><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down3" href="#">Unidade</a></h3>
  <div class="droptext" data-targetname="drop-down3">
    <p class="dropspot">Esta é a unidade em que o período é expresso, e pode ser <span class="inline2">tempo_unidades_de_fonte_segundos</span> ou <span class="inline2">tempo_unidades_de_fonte_quadro</span>.</p>
    <p class="dropspot">Veja: <a data-xref="{title}" href="Time_Source_Units.htm">Unidades de fonte de tempo</a></p>
    <p class="dropspot">Você pode usar um valor de batidas por minuto usando <span class="inline"><a href="time_bpm_to_seconds.htm">time_bpm_to_seconds()</a></span>.</p>
  </div>
  <h3><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down4" href="#">Callback &amp; Argumentos</a></h3>
  <div class="droptext" data-targetname="drop-down4">
    <p class="dropspot">Você deve especificar uma &quot;ligação de retorno&quot;. <a href="../../GML_Overview/Method_Variables.htm"><span class="notranslate">method</span></a> que é chamado quando a <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span> expira.</p>
    <p class="dropspot">Opcionalmente, você pode especificar uma matriz contendo os argumentos que devem ser passados para o método quando ele é chamado.</p>
    <p class="dropspot">A matriz em si não será passada para o método, mas cada elemento da matriz será passado como um argumento separado.</p>
    <p class="dropspot">Por exemplo, se sua função espera os argumentos <span class="inline2">(x, y, <span class="notranslate">object</span>)</span>, então sua matriz de <span class="inline2">args</span> pode se parecer com isto: <span class="inline2">[30, 600, obj_player]</span>.</p>
  </div>
  <h3><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down5" href="#">Repetições</a></h3>
  <div class="droptext" data-targetname="drop-down5">
    <p class="dropspot">Opcionalmente, você pode especificar quantas vezes sua <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span> deve repetir. Um valor de <span class="inline2">1</span> significa que ele só funciona uma vez, que é o valor padrão.</p>
    <p class="dropspot">Você pode especificar o número total de vezes que ele deve se repetir, ou <span class="inline2">-1</span> para que se repita indefinidamente.</p>
    <p class="dropspot">Por exemplo, se você definir isto como 3, e seu período de <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span> for &quot;4 segundos&quot;, então a <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span> estará ativa por um total de 12 segundos e chamará o método de retorno a cada 4 segundos.</p>
  </div>
  <h3><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down6" href="#">Tipo de Validade</a></h3>
  <div class="droptext" data-targetname="drop-down6">
    <p class="dropspot">Isto pode ser <span class="inline2">tempo_de_fonte_expirar_nearest</span> ou <span class="inline2">tempo_de_fonteexpirar_após_expirar</span>.</p>
    <p class="dropspot">Veja: <a data-xref="{title}" href="Time_Source_Expiry_Types.htm">Tipos de validade de fontes de tempo</a></p>
  </div>
  <p> </p>
  <h4>Sintaxe:</h4>
  <p class="code">time_source_create(parent, period, units, callback, [args, repetitions, expiry_type]);</p>
  <table>
    <colgroup>
      <col />
      <col />
      <col />
    </colgroup>
    <tbody>
      <tr>
        <th>Argumento</th>
        <th>Tipo</th>
        <th>Descrição</th>
      </tr>
      <tr>
        <td><span class="notranslate">parent</span></td>
        <td><span data-keyref="Type_ID_TimeSource"><a href="../../../../GameMaker_Language/GML_Reference/Time_Sources/time_source_create.htm" target="_blank">Identificação da fonte de tempo</a></span></td>
        <td><span class="notranslate">The parent <span data-keyref="Type_Resource_TimeSource">Time Source</span> que controla a nova <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">period</span></td>
        <td><span data-keyref="Type_Real"><a href="../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Real</a></span></td>
        <td><span class="notranslate">The period that the <span data-keyref="Type_Resource_TimeSource">Time Source</span> funciona para, nas unidades dadas</td>
      </tr>
      <tr>
        <td><span class="notranslate">units</span></td>
        <td><span data-keyref="Type_Constant_TimeSource_Unit"><a href="../../../../GameMaker_Language/GML_Reference/Time_Sources/Time_Source_Units.htm" target="_blank">Unidade Fonte de Tempo Constante</a></span></td>
        <td><span class="notranslate">The units that the given period is in</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">callback</span></td>
        <td><span data-keyref="Type_Method"><a href="../../../../GameMaker_Language/GML_Overview/Method_Variables.htm" target="_blank">Método</a></span> ou <span data-keyref="Type_Function_Script"><a href="../../../../GameMaker_Language/GML_Overview/Script_Functions.htm" target="_blank">Função do Script</a></span></td>
        <td><span class="notranslate">The method or script function to call when the <span data-keyref="Type_Resource_TimeSource">Time Source</span> expira</td>
      </tr>
      <tr>
        <td><span class="notranslate">args</span></td>
        <td><span data-keyref="Type_Array"><a href="../../../../GameMaker_Language/GML_Overview/Arrays.htm" target="_blank">Array</a></span></td>
        <td><span class="notranslate"><span class="optional">OPTIONAL</span> Uma matriz contendo os argumentos para passar para o método</td>
      </tr>
      <tr>
        <td><span class="notranslate">repetitions</span></td>
        <td><span data-keyref="Type_Real"><a href="../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Real</a></span></td>
        <td><span class="notranslate"><span class="optional">OPTIONAL</span> O número de vezes que a <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span> deve se repetir, ou -1 para repetição indefinida</td>
      </tr>
      <tr>
        <td><span class="notranslate">expiry_type</span></td>
        <td><span data-keyref="Type_Constant_TimeSource_Expiry"><a href="../../../../GameMaker_Language/GML_Reference/Time_Sources/Time_Source_Expiry_Types.htm" target="_blank">Fonte de tempo de expiração constante</a></span></td>
        <td><span class="notranslate"><span class="optional">OPTIONAL</span> Se a <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span> expira no quadro mais próximo de sua expiração, ou no próximo quadro</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Devoluções:</h4>
  <p class="code"><span data-keyref="Type_ID_TimeSource"><a href="../../../../GameMaker_Language/GML_Reference/Time_Sources/time_source_create.htm" target="_blank">Time Source ID</a></span></p>
  <p> </p>
  <h4>Exemplo 1:</h4>
  <p class="code">var _my_method = function()<br />
    {<br />
        instance_destroy();<br />
    }<br />
    <br />
    var _time_source = time_source_create(time_source_game, 300, time_source_units_frames, _my_method);<br />
    <br />
    time_source_start(_time_source);
  </p>
  <p>Neste exemplo, queremos que a instância se destrua a si mesma 300 quadros depois.</p>
  <p>O código primeiro cria um método que simplesmente chama <a href="../Asset_Management/Instances/instance_destroy.htm"><span class="inline">instance_destroy()</span></a>.</p>
  <p>Em seguida, ele cria uma <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span>, herdada da <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span> do Jogo. Ela define seu período para <strong>300 quadros</strong>.</p>
  <p>Finalmente, inicia a <span data-keyref="Type_Resource_TimeSource">Fonte do Tempo</span>.</p>
  <p> </p>
  <h4>Exemplo 2:</h4>
  <p class="code">var _my_method = function()<br />
    {<br />
        show_debug_message(&quot;A second has passed!&quot;);<br />
    }<br />
    <br />
    global.time_per_second = time_source_create(time_source_game, 1, time_source_units_seconds, _my_method, [], -1, time_source_expire_after);<br />
    <br />
    time_source_start(global.time_per_second);
  </p>
  <p>Neste exemplo, estamos criando uma <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span> global que expira uma vez a cada segundo. Este código seria colocado na raiz de uma <a href="../../../The_Asset_Editors/Scripts.htm"><span class="notranslate">script</span></a>.</p>
  <p>O código primeiro cria um método que imprime uma mensagem para o log de saída, dizendo <strong>&quot;Um segundo passou&quot;.</strong></p>
  <p>Em seguida, cria uma nova <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span>, herdada da <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span> do Jogo. Ela define seu período para <strong>1 segundo</strong>.</p>
  <p>O método é passado para a <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span> para que possa ser chamado cada vez que expirar. Uma matriz vazia é dada para os argumentos.</p>
  <p>A contagem de repetição é definida como -1, de modo que a <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span> nunca pára e continua se repetindo para sempre. Seu tipo de expiração é definido para que a chamada de retorno funcione no primeiro quadro após sua expiração.</p>
  <p>Finalmente, a <span data-keyref="Type_Resource_TimeSource">Fonte de Tempo</span> é iniciada.</p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div>Voltar: <a data-xref="{title}" href="Time_Sources.htm">Fontes de tempo</a> </div>
        <div>Próximo: <a data-xref="{title}" href="time_source_destroy.htm">time_source_destroy</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Todos os direitos reservados</span></h5>
  </div>
  <!-- KEYWORDS
time_source_create
-->
  <!-- TAGS
time_source_create
-->
</body>
</html>