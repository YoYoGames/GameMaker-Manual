<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>instance_create_layer</title>
  <meta name="generator" content="Adobe RoboHelp 2022" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page outlining the function instance_create_layer" />
  <meta name="rh-index-keywords" content="instance_create_layer" />
  <meta name="search-keywords" content="instance_create_layer" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><span data-field="title" data-format="default">instance_create_layer</span></h1>
  <p>With this function you can create a new instance of the specified object at any given point within the room and on the layer specified. The layer can be identified using the layer handle (as returned by the function <span class="inline3_func"><a data-xref="{title}" href="../Rooms/General_Layer_Functions/layer_create.htm">layer_create</a></span>) or by the name of the layer (as a string, for example &quot;instance_layer&quot;) as defined in <a data-xref="{title}" href="../../../../The_Asset_Editors/Rooms.htm">The Room Editor</a>.</p>
  <p>This function returns the <a href="Instance_Variables/id.htm"><span class="inline2">id</span></a> of the new instance which can then be stored in a variable and used to access that instance. Note that this function will also call the <a href="../../../../The_Asset_Editors/Object_Properties/Object_Events.htm">Create Event</a> of the instance being created <i>before</i> continuing with the code or actions for the event that called the function.</p>
  <div data-conref="../../../../assets/snippets/Note_layer_depth_range.hts"> </div>
  <p class="note"><span data-conref="../../../../assets/snippets/Tag_note.hts"> </span> This function behaves differently when you call it after calling a room-changing function in the same event. See the note on <span class="inline3_func"><a data-xref="{title}" href="../Rooms/room_goto.htm">room_goto</a></span> for details.</p>
  <div data-conref="../../../../assets/snippets/Note_instance_create_Optional_Struct.hts"> </div>
  <p> </p>
  <h4>Syntax:</h4>
  <p class="code"><span data-field="title" data-format="default">instance_create_layer</span>(x, y, layer_id, obj, [var_struct]);</p>
  <table>
    <tbody>
      <tr>
        <th>Argument</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>x</td>
        <td><span data-keyref="Type_Real"><a href="../../../GML_Overview/Data_Types.htm" target="_blank">Real</a></span></td>
        <td>The x position the object will be created at</td>
      </tr>
      <tr>
        <td>y</td>
        <td><span data-keyref="Type_Real"><a href="../../../GML_Overview/Data_Types.htm" target="_blank">Real</a></span></td>
        <td>The y position the object will be created at</td>
      </tr>
      <tr>
        <td>layer_id</td>
        <td><span data-keyref="Type_ID_Layer"><a href="../Rooms/General_Layer_Functions/layer_get_id.htm" target="_blank">Layer</a></span> or <span data-keyref="Type_String"><a href="../../../GML_Overview/Data_Types.htm" target="_blank">String</a></span></td>
        <td>The layer handle (or name) to assign the created instance to</td>
      </tr>
      <tr>
        <td>obj</td>
        <td><span data-keyref="Type_Asset_Object"><a href="../../../../The_Asset_Editors/Objects.htm" target="_blank">Object Asset</a></span></td>
        <td>The object index of the object to create an instance of</td>
      </tr>
      <tr>
        <td>var_struct</td>
        <td><span data-keyref="Type_Struct"><a href="../../../GML_Overview/Structs.htm" target="_blank">Struct</a></span></td>
        <td><span data-conref="../../../../assets/snippets/Tag_optional.hts"> </span> A struct with variables to assign to the new instance</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Returns:</h4>
  <p class="code"><span data-keyref="Type_ID_Instance"><a href="Instance_Variables/id.htm" target="_blank">Object Instance</a></span></p>
  <p> </p>
  <h4>Example 1:</h4>
  <p class="code">var inst = instance_create_layer(x, y, &quot;Instances&quot;, obj_bullet);<br />
    with (inst)<br />
    {<br />
        speed = other.shoot_speed;<br />
        direction = other.image_angle;<br />
    }</p>
  <p>The above code creates a new instance of the object <span class="inline2">obj_bullet</span> in the &quot;Instances&quot; layer, and stores the instance ID in a variable. This variable is then used to assign <span class="inline">speed</span> and <span class="inline">direction</span> to the new instance.</p>
  <p>This will first create the instance, run its Create event, and <em>then</em> assign values to its variables.</p>
  <p>If you want to assign some variables <em>before</em> the Create event runs, see the example below.</p>
  <p> </p>
  <h4>Example 2:</h4>
  <p class="code">var inst = instance_create_layer(x, y, &quot;Instances&quot;, obj_bullet,<br />
    {<br />
        speed : shoot_speed,<br />
        direction : image_angle<br />
    });</p>
  <p>The above code creates an instance of <span class="inline2">obj_bullet</span>, and passes in a struct as the last argument.</p>
  <p>That struct has variables for the speed and direction. It pulls its values from the calling instance, without the need to use <span class="inline2">other</span>.</p>
  <p>These variables are applied to the new instance before its Create event runs.</p>
  <p>You&#39;re not limited to a struct literal, as you can also pass in a variable that stores an existing struct, or create a <a href="../../../GML_Overview/Language_Features/new.htm">new</a> struct from a <a href="../../../GML_Overview/Structs.htm#constr">constructor</a>.</p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="Instances.htm">Instances</a></div>
        <div style="float:right">Next: <a href="instance_create_depth.htm">instance_create_depth</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2025 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
instance_create_layer
-->
  <!-- TAGS
instance_create_layer
-->
</body>
</html>