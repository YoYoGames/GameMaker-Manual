<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>buffer_get_surface</title>
  <meta name="generator" content="Adobe RoboHelp 2022" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <script src="../../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Reference page for buffer_get_surface" />
  <meta name="rh-index-keywords" content="buffer_get_surface,buffer_surface_copy (Deprecated)" />
  <meta name="search-keywords" content="buffer_get_surface,buffer_surface_copy" />
  <meta name="is_pure" content="true" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><span data-field="title" data-format="default">buffer_get_surface</span></h1>
  <p>This function writes information from a surface to a given buffer.</p>
  <p>The buffer must have been created previously and should be a 1-byte aligned buffer large enough to store data for the surface you are going to write (if unsure, use a <a href="buffer_create.htm">grow</a> buffer or see the example at the bottom of this page).</p>
  <p>The information for the surface will always be written to the start of the buffer (regardless of the seek position) but you can choose an offset value (in bytes) to move the write position from the start of the buffer.</p>
  <p>The <a href="../Drawing/Surfaces/surface_create.htm">format</a> of the surface will affect how the surface is written into the buffer, refer to the table on the linked page for information on how much space each pixel in a surface would take depending on the format. Keep in mind that the same format may be written in a different way on different platforms.</p>
  <p>Use <span class="inline3_func"><a data-xref="{title}" href="buffer_set_surface.htm">buffer_set_surface</a></span> to write data from a buffer back into a surface.</p>
  <p> </p>
  <h4>Syntax:</h4>
  <p class="code"><span data-field="title" data-format="default">buffer_get_surface</span>(buffer, surface, offset);</p>
  <table>
    <tbody>
      <tr>
        <th>Argument</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>buffer</td>
        <td><span data-keyref="Type_ID_Buffer"><a href="buffer_create.htm" target="_blank">Buffer</a></span></td>
        <td>The buffer to use.</td>
      </tr>
      <tr>
        <td>surface</td>
        <td><span data-keyref="Type_ID_Surface"><a href="../Drawing/Surfaces/surface_create.htm" target="_blank">Surface</a></span></td>
        <td>The surface to use.</td>
      </tr>
      <tr>
        <td>offset</td>
        <td><span data-keyref="Type_Real"><a href="../../GML_Overview/Data_Types.htm" target="_blank">Real</a></span></td>
        <td>The data offset value (in bytes).</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Returns:</h4>
  <p class="code"><span data-keyref="Type_Void">N/A</span></p>
  <p> </p>
  <h4>Example:</h4>
  <p class="code">var _surf_width = surface_get_width(surf1);<br />
    var _surf_height = surface_get_height(surf1);<br />
    <br />
    buff1 = buffer_create(_surf_width * _surf_height * 4, buffer_fixed, 1);<br />
    <span data-field="title" data-format="default">buffer_get_surface</span>(buff1, surf1, 0);
  </p>
  <p>This first stores the width and height of a surface into local variables.</p>
  <p>Then it creates a buffer whose size matches the size of the source surface, which is <span class="inline2">_surf_width * _surf_height * 4</span> (in bytes) - this creates space for each pixel of that surface to store its 4 bytes (i.e. 1 byte or 8 bits per channel) using the default <span class="inline2">surface_rgba8unorm</span> (RGBA, 8-bit) format. It then writes the surface data into that buffer.</p>
  <p>A buffer will always need to have enough space to store every pixel from the source surface, which will depend on the surface&#39;s format. The below function calls demonstrate buffers being created for the <span class="inline2">surface_rgba16float</span> and <span class="inline2">surface_r8unorm</span> formats:</p>
  <p class="code">// rgba16float - 16 bits or 2 bytes per channel, RGBA - hence 8 bytes per pixel<br />
    buff2 = buffer_create(_surf_width * _surf_height * 8, buffer_fixed, 1)<br />
    <br />
    // r8unorm - 8 bits or 1 byte per pixel, only R channel - hence 1 byte per pixel<br />
    buff3 = buffer_create(_surf_width * _surf_height, buffer_fixed, 1)
  </p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="Buffers.htm">Buffers</a></div>
        <div style="float:right">Next: <a href="buffer_set_surface.htm">buffer_set_surface</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2024 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
buffer_get_surface
buffer_surface_copy
-->
  <!-- TAGS
buffer_get_surface
-->
</body>
</html>