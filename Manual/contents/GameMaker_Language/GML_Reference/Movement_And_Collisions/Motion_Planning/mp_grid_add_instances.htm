<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>mp_grid_add_instances</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="This page outlines the function mp_grid_add_instances" />
  <meta name="rh-index-keywords" content="mp_grid_add_instances" />
  <meta name="search-keywords" content="mp_grid_add_instances" />
  <meta name="is_pure" content="true" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><span data-field="title" data-format="default">title</span></h1>
  <p>This function uses the instance collision mask (decided by the sprite properties or the mask index of the calling instance) to mark cells as forbidden or not in an MP grid, where forbidden cells cannot be crossed by any of the pathfinding functions. You can specify in the function whether to consider precise collisions or not and the forbidden cells marked will change depending on this setting. This image illustrates this behaviour:</p>
  <p><img alt="Add instances example" class="center" src="../../../../assets/Images/Scripting_Reference/GML/Reference/Movement_Collisions/mp_grid_add_instance_image.png" />The two instances above have been added into the MP grid using the <span class="inline">mp_grid_add_instances()</span> function with precise being set as true. As you can see the, green instance has only marked the grid squares it &quot;touches&quot; as forbidden, due to the fact that its sprite mask is also set to precise. However the second instance has marked other cells too which don&#39;t <i>appear</i> to be touching. This is because the sprite mask is <b>not</b> set to precise, meaning that even if you are using the precise setting in the function, only the bounding box of the sprite will be considered. This is also what would happen if you set the precise argument of the function to false - even instances with a precise sprite mask will be added into the grid based on their bounding boxes.</p>
  <p> </p>
  <h4>Syntax:</h4>
  <p class="code">mp_grid_add_instances(id, obj, prec);</p>
  <table>
    <tbody>
      <tr>
        <th>Argument</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>id</td>
        <td><span data-keyref="Type_ID_MP_Grid">MP Grid ID</span></td>
        <td>Index of the mp_grid that is to be used</td>
      </tr>
      <tr>
        <td>obj</td>
        <td><span data-keyref="Type_Asset_Object">Object Asset</span> or <span data-keyref="Type_ID_Instance">Instance ID</span></td>
        <td>Object index, or instance id, of the instances to be added into the mp_grid</td>
      </tr>
      <tr>
        <td>prec</td>
        <td><span data-keyref="Type_Bool">Boolean</span></td>
        <td>Whether the check is based on pixel-perfect collisions (true = slow) or its bounding box in general (false = fast).</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Returns:</h4>
  <p class="code"><span data-keyref="Type_Void">N/A</span></p>
  <p> </p>
  <h4>Example:</h4>
  <p class="code">mp_grid_add_instances(grid, obj_Wall, true);</p>
  <p>The above code will add all instances of &quot;obj_Wall&quot; into the mp_grid indexed in the variable &quot;grid&quot; using the precise collision mask rather than the bounding box.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="Motion_Planning.htm">Motion Planning</a></div>
        <div style="float:right">Next: <a href="mp_grid_add_rectangle.htm">mp_grid_add_rectangle</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2022 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
mp_grid_add_instances
-->
  <!-- TAGS
mp_grid_add_instances
-->
</body>
</html>