<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>mp_grid_path</title>
  <meta name="generator" content="Adobe RoboHelp 2022" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="This page outlines the function mp_grid_path" />
  <meta name="rh-index-keywords" content="mp_grid_path" />
  <meta name="search-keywords" content="mp_grid_path" />
  <meta name="is_pure" content="true" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><span data-field="title" data-format="default">mp_grid_path</span></h1>
  <p>This function creates a path that will navigate through the given MP grid from a start point to a finish point, avoiding any obstacles that have been added into the grid.</p>
  <p>The <span class="inline2">xstart</span> and <span class="inline2">ystart</span> arguments indicate the start of the path in room coordinates, while the <span class="inline2">xgoal</span>, <span class="inline2">ygoal</span> arguments indicate the destination. You can also select either horizontal/vertical movement only, or allow full diagonal movements by specifying <span class="inline2">true</span> in the <span class="inline2">allowdiag</span> argument. The function returns either <span class="inline2">true</span> (it succeeded in finding a path) or <span class="inline2">false</span> (it failed) and updates the given path asset <span class="inline2">path</span> with the points found. In the following image, you can see how this all works together:</p>
  <p><img alt="MP Grid path example" class="center" src="../../../../assets/Images/Scripting_Reference/GML/Reference/Movement_Collisions/mp_grid_path_image.png" />As you can see, the &quot;pipe&quot; objects have been added into the grid, meaning that any path created has to go around them. There are two paths created in the image, one (green) has been made with diagonals allowed and the other (red) without. The difference between the two is pretty obvious with the green path appearing much more &quot;elegant&quot; and direct, but it all depends what use you are going to put them to which one you prefer. Note that the path is independent of the current instance - it is a path through the grid, not a path for a specific instance, even though a specific instance may have the variable that stores the path index. You may also need to debug these paths to see how they are made and interact within the game environment, in which case you should be using the <span class="inline3_func"><a data-xref="{title}" href="../../Drawing/Basic_Forms/draw_path.htm">draw_path</a></span> function.</p>
  <p class="note"><span data-conref="../../../../assets/snippets/Tag_note.hts"> </span> The path must have been previously created (either in code with <span class="inline3_func"><a data-xref="{title}" href="../../Asset_Management/Paths/Path_Manipulation/path_add.htm">path_add</a></span> or as an asset) and will be replaced by the path generated by this function.</p>
  <p> </p>
  <h4>Syntax:</h4>
  <p class="code"><span data-field="title" data-format="default">mp_grid_path</span>(id, path, xstart, ystart, xgoal, ygoal, allowdiag)</p>
  <table>
    <tbody>
      <tr>
        <th>Argument</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>id</td>
        <td><span data-keyref="Type_ID_MP_Grid"><a href="mp_grid_create.htm" target="_blank">MP Grid ID</a></span></td>
        <td>Index of the mp_grid that is to be used</td>
      </tr>
      <tr>
        <td>path</td>
        <td><span data-keyref="Type_Asset_Path"><a href="../../../../The_Asset_Editors/Paths.htm" target="_blank">Path Asset</a></span></td>
        <td>The path that is to be used by the function</td>
      </tr>
      <tr>
        <td>xstart</td>
        <td><span data-keyref="Type_Real"><a href="../../../GML_Overview/Data_Types.htm" target="_blank">Real</a></span></td>
        <td>Starting x coordinate of the new path</td>
      </tr>
      <tr>
        <td>ystart</td>
        <td><span data-keyref="Type_Real"><a href="../../../GML_Overview/Data_Types.htm" target="_blank">Real</a></span></td>
        <td>Starting y coordinate of the new path</td>
      </tr>
      <tr>
        <td>xgoal</td>
        <td><span data-keyref="Type_Real"><a href="../../../GML_Overview/Data_Types.htm" target="_blank">Real</a></span></td>
        <td>Finishing x coordinate of the new path</td>
      </tr>
      <tr>
        <td>ygoal</td>
        <td><span data-keyref="Type_Real"><a href="../../../GML_Overview/Data_Types.htm" target="_blank">Real</a></span></td>
        <td>Finishing y coordinate of the new path</td>
      </tr>
      <tr>
        <td>allowdiag</td>
        <td><span data-keyref="Type_Bool"><a href="../../../GML_Overview/Data_Types.htm" target="_blank">Boolean</a></span></td>
        <td>Indicates whether diagonal moves are allowed instead of just horizontal or vertical</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Returns:</h4>
  <p class="code"><span data-keyref="Type_Bool"><a href="../../../GML_Overview/Data_Types.htm" target="_blank">Boolean</a></span></p>
  <p> </p>
  <h4>Example:</h4>
  <p class="code">global.grid = mp_grid_create(0, 0, room_width div 32, room_height div 32, 32, 32);<br />
    mp_grid_add_instances(global.grid, obj_wall, false);<br />
    with (obj_enemy)<br />
    {<br />
        path = path_add();<br />
        if (mp_grid_path(global.grid, path, x, y, obj_player.x, obj_player.y, 1))<br />
        {<br />
            path_start(path, 0, 3, 0);<br />
        }<br />
    }</p>
  <p>The above code creates a global variable <span class="inline2">global.grid</span>, then generates an mp_grid and assigns its index (id) to that variable for use in all further mp_grid function calls. It then adds all instances of <span class="inline2">obj_wall</span> to the grid before getting all instances of <span class="inline2">obj_enemy</span> to create a path and then use <span class="inline3_func"><span data-field="title" data-format="default">mp_grid_path</span></span> to calculate a route from their position to the position of <span class="inline2">obj_player</span>. If a route exists then the object starts itself along the path.</p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a data-xref="{title}" href="Motion_Planning.htm">Motion Planning</a></div>
        <div style="float:right">Next: <a data-xref="{title}" href="mp_grid_add_cell.htm">mp_grid_add_cell</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2025 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
mp_grid_path
-->
  <!-- TAGS
mp_grid_path
-->
</body>
</html>