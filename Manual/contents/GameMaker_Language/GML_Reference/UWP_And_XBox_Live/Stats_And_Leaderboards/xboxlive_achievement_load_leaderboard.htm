<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>xboxlive_achievement_load_leaderboard</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../assets/scripts/main_script.js" type="module">
  </script>
    <meta name = "rh-authors" content = "Mark Alexander" />
      <meta name = "topic-comment" content = "Reference page for achievement_load_leaderboard" />
      <meta name = "rh-index-keywords" content = "achievement_load_leaderboard,achievement_leaderboard_info,achievement_filter_friends_only,achievement_filter_all_players" />
      <meta name = "search-keywords" content = "achievement_load_leaderboard,achievement_leaderboard_info,achievement_filter_friends_only,achievement_filter_all_players" />
  <meta name="topic-comment" content="Page outlining the function xboxlive_achievement_load_leaderboard." />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>xboxlive_achievement_load_leaderboard</h1>
  <p>This function will send a request to the server for information on the given leaderboard. The leaderboard must have been created previously on the developer dashboard for your game and the ID given is that which you must supply as the first argument of the function. It will trigger a callback <a href="../../../../The_Asset_Editors/Object_Properties/Async_Events/Social.htm">Social Asynchronous Event</a> which contains the <a href="../../../GML_Overview/Variables/Builtin_Global_Variables/async_load.htm"><span class="inline">async_load</span></a> map populated with the relevant key/value pairs. The <i>id</i> key of this <span class="inline">DS Map</span> is used to identify the correct callback (there can be more than one trigger function for any given asynchronous event), and will be paired with the <b>constant</b> <span class="inline">xboxlive_achievement_leaderboard_info</span> as well as a number of other key/value pairs for each player. The exact contents of the map are shown below:</p>
  <ul class="colour">
    <li>&quot;<b>id</b>&quot; - For this function it should be <span class="inline">xboxlive_achievement_leaderboard_info</span></li>
    <li>&quot;<b>leaderboardid</b>&quot; - The unique ID for the leaderboard as defined on the provider dashboard.</li>
    <li>&quot;<b>numentries</b>&quot; - The number of entries in the leaderboard that you have received.</li>
    <li>&quot;<b>PlayerN</b>&quot; - The name of the player, where &quot;N&quot; is an integer value corresponding to their position within the leaderboard entries list.</li>
    <li>&quot;<b>PlayeridN</b>&quot; - The unique user id of the player, &quot;N&quot;.</li>
    <li>&quot;<b>RankN</b>&quot; - The rank of the player &quot;N&quot; within the leaderboard.</li>
    <li>&quot;<b>ScoreN</b>&quot; - The score of the player &quot;N&quot;.</li>
  </ul>
  <p>You can specify the exact portion of the leaderboard to show by giving a minimum and maximum index value, as well as request that the results be filtered to retrieve only those scores by your friends or those posted by all players using the following filter <b>constants</b>:</p>
  <table>
    <colgroup>
      <col />
      <col />
    </colgroup>
    <tbody>
      <tr>
        <th colspan="2"><span data-keyref="Type_Constant_Achievement_Filter"><a href="../../../../../GameMaker_Language/GML_Reference/UWP_And_XBox_Live/Stats_And_Leaderboards/xboxlive_achievement_load_leaderboard.htm" target="_blank">Xbox Live Achievement Filter Constant</a></span></th>
      </tr>
      <tr>
        <th>Constant</th>
        <th>Description</th>
      </tr>
      <tr>
        <td><span class="inline">xboxlive_achievement_filter_friends_only </span></td>
        <td>Get only the scores of the players friends.</td>
      </tr>
      <tr>
        <td><span class="inline">xboxlive_achievement_filter_all_players </span></td>
        <td>Get all scores for all players.</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <p> </p>
  <h4><b>Syntax:</b></h4>
  <p class="code">xboxlive_achievement_load_leaderboard(ident, minindex, maxindex, filter)</p>
  <table>
    <tbody>
      <tr>
        <th>Argument</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>ident</td>
        <td><span data-keyref="Type_String"><a href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">String</a></span></td>
        <td>The unique ID of the leaderboard as shown on the developer dashboard.</td>
      </tr>
      <tr>
        <td>minindex</td>
        <td><span data-keyref="Type_Real"><a href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Real</a></span></td>
        <td>The starting index value to get the leaderboard data from.</td>
      </tr>
      <tr>
        <td>maxindex</td>
        <td><span data-keyref="Type_Real"><a href="../../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Real</a></span></td>
        <td>The maximum index value to get the leaderboard data from.</td>
      </tr>
      <tr>
        <td>filter</td>
        <td><span data-keyref="Type_Constant_Achievement_Filter"><a href="../../../../../GameMaker_Language/GML_Reference/UWP_And_XBox_Live/Stats_And_Leaderboards/xboxlive_achievement_load_leaderboard.htm" target="_blank">Xbox Live Achievement Filter Constant</a></span></td>
        <td>Whether to filter the results to those that are on your friends list or to all players (see the <b>Description</b> above)</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Returns:</h4>
  <p class="code"><span data-keyref="Type_Void">N/A</span></p>
  <p> </p>
  <h4>Extended Example:</h4>
  <p>The following code would probably be called after the player has logged into their game account to get a list of all friends leaderboard positions for the game:</p>
  <p class="code">xboxlive_achievement_load_leaderboard(&quot;CgkIs9_51u0PEAIQBw&quot;, 1, 100, xboxlive_achievement_filter_friends_only);</p>
  <p>This will send off a request for the information on the given leaderboard and generate an asynchronous callback with the special <span class="inline">async_load</span> DS map containing the following data:</p>
  <p class="code">var ident = ds_map_find_value(async_load, &quot;id&quot;);<br />
    if (ident == xboxlive_achievement_leaderboard_info) <br />
    {<br />
        var lbid = ds_map_find_value(async_load,&quot;leaderboardid&quot;);<br />
        if lbid == &quot;CgkIs9_51u0PEAIQBw&quot; || lbid == &quot;leaderboard1id&quot;<br />
        {<br />
            global.numentries = ds_map_find_value(async_load,&quot;numentries&quot;);<br />
            for(var i = 0; i &lt; numentries; i++;)<br />
            {<br />
                global.playername[i] = ds_map_find_value(async_load, &quot;Player&quot; + string(i));<br />
                global.playerid[i] = ds_map_find_value(async_load, &quot;Playerid&quot; + string(i));<br />
                global.playerrank[i] = ds_map_find_value(async_load, &quot;Rank&quot; + string(i));<br />
                global.playerscore[i] = ds_map_find_value(async_load, &quot;Score&quot; + string(i));<br />
            }<br />
        }<br />
    }</p>
  <p>The above code checks the returned <span class="inline">DS Map</span> in the <b>Social Asynchronous Event</b> and if its &quot;id&quot; matches the constant being checked, it then checks to make sure that the leaderboard being sent matches the original function call before looping through the map and storing all the different values in a number of arrays.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a data-xref="{title}" href="Stats_And_Leaderboards.htm">Stats And Leaderboards</a></div>
        <div style="float:right">Next: <a data-xref="{title}" href="xboxlive_achievements_set_progress.htm">xboxlive_achievements_set_progress</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2022 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
achievement_load_leaderboard
achievement_leaderboard_info
achievement_filter_friends_only 
achievement_filter_all_players 
-->
  <!-- TAGS
achievement_load_leaderboard
-->
</body>
</html>