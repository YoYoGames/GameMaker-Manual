<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Declare A New Function</title>
  <meta name="generator" content="Adobe RoboHelp 2022" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <script src="../../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Section detailing Declare A New Function" />
  <meta name="rh-index-keywords" content="GML Visual Action - Declare A New Function" />
  <meta name="search-keywords" content="Declare A New Function" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><img alt="Declare A New Function Icon" class="icon" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/i_Common_Declare_Function.png" /> <span data-field="title" data-format="default">Declare A New Function</span></h1>
  <p>This action can be used to create a new user-defined function, which can later be called at any time in your code. A user-defined function is one that you define to do a task that isn&#39;t covered by the built-in <span data-keyref="GML_Visual">GML Visual</span> actions or GML runner functions, and can be global, instance or local in scope (see <a data-xref="{title}" href="../../../GameMaker_Language/GML_Overview/Variables_And_Variable_Scope.htm">Variables And Variable Scope</a> for more information on scope); they can also be used as <b>constructors</b> to create <a href="../../../GameMaker_Language/GML_Overview/Structs.htm">structs</a>. To find out more about using this action to create global functions, please see the section on <a href="../../Drag_And_Drop_Overview/Action_Block_Functions.htm">Creating Action Functions</a>.</p>
  <p>To use this action, you can add it to an event or a script and give the new function a name. You then provide the required arguments/parameters that the function will take, and the default values for any optional arguments.</p>
  <p>If the function is to be used as a constructor (which is used to create a struct), then you need to check the <strong>Constructor </strong>option and later use the <a data-xref="{title}" href="New.htm">New Struct</a> action to create a struct from the function. You may also flag the function as being <b>static</b>, which means that it will only be defined once no matter how many times this action is executed. Finally, if the function is only going to be used locally in the same event and nowhere else, then you can enable the <strong>Temp </strong>option.</p>
  <p>Once you have defined the name and the parameters, you can attach the actions that you want the function to run when it is called in your code, by dropping them to the side of the action as shown in the image below:</p>
  <p><img alt="Declare A New Function drop actions" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/drop_declare_function.png" />You can see examples of using this action as both a regular function and a constructor function in the &quot;Extended Examples&quot; section given below.</p>
  <p> </p>
  <h4>Action Syntax:</h4>
  <p><img alt="Declare A New Function Action" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/a_Common_Declare_Function.png" /></p>
  <h4>Arguments:</h4>
  <table>
    <tbody>
      <tr>
        <th>Argument</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>Name</td>
        <td>The name of the new function.</td>
      </tr>
      <tr>
        <td>Argument [+]</td>
        <td>The different arguments that can be passed into the function, and their default values if optional.</td>
      </tr>
      <tr>
        <td>Constructor</td>
        <td>Whether this function is a constructor.</td>
      </tr>
      <tr>
        <td>Static</td>
        <td>Whether this function is static.</td>
      </tr>
      <tr>
        <td>Temp</td>
        <td>Whether the function is temporary (meaning that it&#39;s only used within the current event).</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h1>Extended Examples</h1>
  <h4>Extended Example 1</h4>
  <p><img alt="Declare A New Function Example 1" class="center" height="491" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/e_Common_Declare_Function_1.png" width="492" />The above action block would go in the <b>Create Event</b> of an instance or a script, and declares a new function called <span class="inline">set_vec</span> with three arguments: <span class="inline">_x</span>, <span class="inline">_y</span> and <span class="inline">spd</span>. These arguments are then used in the actions that the function contains to set the direction and speed of the instance, which happens when the function is called. You would later call the function using the <a data-xref="{title}" href="Function_Call.htm">Function Call</a> action in any subsequent events, like this:</p>
  <p><img alt="Declare A New Function Exmaple 2" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/e_Common_Declare_Function_2.png" />In the above image, the <span class="inline">set_vec</span> function is called which changes the instance&#39;s direction to point towards the mouse&#39;s X/Y position and sets the speed to 5.</p>
  <p> </p>
  <h4 id="h">Extended Example 2</h4>
  <p><img alt="Declare A New Function Exmaple 3" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/e_Common_Declare_Function_3.png" />The above action block would go in the <b>Create Event</b> of an instance or a script, and declares a new <strong>constructor</strong> function called <span class="inline">init_char_struct</span> with four arguments: <span class="inline">_name</span>, <span class="inline">_location</span>, <span class="inline">_hp</span> and <span class="inline">_mana</span>, with the last two being optional with a default value of 100 (this means that if those arguments are not specified when the function is called, their default values will be used instead). These arguments are then used to create some variables within the struct that the function is creating.</p>
  <p>You would later call this function using the <a data-xref="{title}" href="New.htm">New Struct</a> action to create a struct, like this:</p>
  <p><img alt="Declare A New Function Exmaple 4" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/e_Common_Declare_Function_4.png" />The function is called and will return a new struct which is stored in the array <span class="inline">char</span>, and the struct will be populated with the variables <span class="inline">name</span>, <span class="inline">location</span>, <span class="inline">hp</span> and <span class="inline">mana</span>, set to the values that were passed into the corresponding arguments in the function call.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="Common_Actions_Library.htm">Common Actions</a></div>
        <div style="float:right">Next: <a data-xref="{title}" href="Assign_Variable.htm">Assign Variable</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2023 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
Action - Declare A New Function
-->
  <!-- TAGS
action_declare_function
-->
</body>
</html>