<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>If Object At Place</title>
  <meta name="generator" content="Adobe RoboHelp 2022" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <script src="../../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page that explains the If Object At Place action" />
  <meta name="rh-index-keywords" content="GML Visual Action - If Object At Place" />
  <meta name="search-keywords" content="If Object At Place" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><img alt="If Object At Place Icon" class="icon" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Collisions/i_Collision_At.png" /> <span data-field="title" data-format="default">If Object At Place</span></h1>
  <p>This action is used to check and see if there is a collision with one or more instances of the given object(s) with the current instance placed at a point in the room, based on the collision mask of the calling instance. The action will evaluate to <span class="inline">true</span> if a collision is detected, or <span class="inline">false</span> otherwise.</p>
  <p>You give the object to check for and the position to &quot;place&quot; the instance to perform the check - which can be an absolute position in the room or a position relative to the instance - and you can also check the <b>Not</b> flag to check if there is <i>not</i> a collision at the given position, in which case the action will then only evaluate as <span class="inline">true</span> if <i>no</i> collisions are found, otherwise it will evaluate as <span class="inline">false</span>.</p>
  <p>After giving the object and position, you can check/uncheck the option to <b>Return List</b>. Checking this means the action will create and populate a <a href="../Data_Structures/Data_Structure_Actions.htm">list</a><span> </span>data structure with <i>all</i> instances in collision with the instance and set the <b>Target</b> variable to the DS list ID. When unchecked, it will only set the <b>Target</b> variable to a value less than 0 when no collision is detected, or the unique ID value of <i>one</i> of the instances in the collision (note that if multiple instances are in collision then you have no way of knowing which instance ID will be returned when not using a list).</p>
  <p>If you have selected to return a list - and the Target variable is <i>not</i> set to <b>Temp</b> - then you can also select the <b>Free Target</b> option. When set to <span class="inline">true</span>, then the list contained in the target variable will be destroyed and a new list created (and returned to the target variable) each time you call the action. In this way you can re-use the same variable without worrying about memory leaks, as, if you do <i>not</i> check <b>Free Target</b> option, you become responsible for destroying the list before using the variable again in the action. Note that <i>regardless</i> of whether this option is checked or not, if you have set the action to <b>Return List</b>, then the target variable will <i>always contain a list ID</i>, and as such, this will need to be freed when the instance is destroyed or the room ends (you can use the <a href="../../../The_Asset_Editors/Object_Properties/Object_Events.htm"><b>Clean Up</b></a> event for this, for example, along with the <a href="../Data_Structures/Free_Data_Structure.htm">Free Data Structure</a><span> </span>action). It is worth noting that you can set the <b>Free Target</b> option to use a pre-defined variable or an expression and so control when the list data structure is freed by setting the variable elsewhere (or having different outcomes for the expression) as long as it evaluates to <span class="inline">true</span>/<span class="inline">false</span>.</p>
  <p>Finally, you supply the <b>Target</b> variable that you want to hold the returned value or list ID. If you flag the Target variable to hold the returned value as being a <b>Temp</b> (local) variable, then the action will create this variable to hold the return value <i>only</i> until the end of the event, in this case the Free Target option does nothing and you will be responsible for destroying the DS list if that option has been checked. If no target variable is supplied and the <b>Return List</b> option is checked, no list will be created.</p>
  <p class="note"><b>IMPORTANT!</b> Collisions will only register for those instances that have a valid collision mask, i.e. they have a sprite assigned to the <span class="inline">sprite_index</span>, or a sprite assigned to the <span class="inline">mask_index</span>. If <b>either</b> of the instances in the collision have no collision mask then the collision will not be detected, regardless of what the instance is drawing at the time.</p>
  <p>Note that to add actions into an &quot;<span class="inline">if</span>&quot; block, they should be dropped to the <i>side</i> of the action, as shown in the image below:</p>
  <p><img alt="If Object At Place drop actions" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Collisions/If_Collision_At.png" /></p>
  <p> </p>
  <h4>Action Syntax:</h4>
  <p><img alt="If Object At Place Action" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Collisions/a_Collision_At.png" /></p>
  <h4>Arguments:</h4>
  <table>
    <tbody>
      <tr>
        <th>Argument</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>Object</td>
        <td>The object or instance to check for collisions. You can click the <img class="icon" src="../../../assets/Images/Icons/Icon_AddVisualItem.png" /> icon to add multiple objects to check collisions with.</td>
      </tr>
      <tr>
        <td>X</td>
        <td>The x position to check</td>
      </tr>
      <tr>
        <td>Y</td>
        <td>The y position to check</td>
      </tr>
      <tr>
        <td>Not</td>
        <td>Used to invert the condition; only satisfies if a collision is <strong>not</strong> found</td>
      </tr>
      <tr>
        <td>Return List</td>
        <td>Whether a <a href="../../../GameMaker_Language/GML_Reference/Data_Structures/DS_Lists/DS_Lists.htm">list</a> of collisions should be returned in <strong>Target</strong>, or only the first collision</td>
      </tr>
      <tr>
        <td>Free Target</td>
        <td>Can be set to a variable or expression, or set to <span class="inline">true</span>/<span class="inline">false</span> to control freeing of the list memory when re-using a list variable</td>
      </tr>
      <tr>
        <td>Target</td>
        <td>The variable to target for the return value of the action</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Example:</h4>
  <p><img alt="If Object At Place Example" class="center" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Collisions/e_Collision_At.png" />The above action block code checks for a collision with any instances of the object &quot;<span class="inline">obj_Wall</span>&quot; to the left and to the right and if one is found it reverses the horizontal direction of the calling instance.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="Collision_Actions.htm">Collision Actions</a></div>
        <div style="float:right">Next: <a href="If_Collision_Shape.htm">If Collision Shape</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2023 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
Action - If Object At Place
-->
  <!-- TAGS
action_if_object_at_place
-->
</body>
</html>