<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Drawing</title>
  <meta name="generator" content="Adobe RoboHelp 2022" />
  <link rel="stylesheet" href="../assets/css/default.css" type="text/css" />
  <script src="../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Some basic code to show people how things are drawn." />
  <meta name="rh-index-keywords" content="Quick Start - Drawing" />
  <meta name="search-keywords" content="drawing,draw event,GUI layer" />
  <meta name="robots" content="NOODP" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Drawing</h1>
  <p>This section, and the following section on <a href="Movement_And_Controls.htm">Movement and Controls</a>, are aimed at giving you practical examples of GML Code or GML Visual, to get you started making your first game projects. We won&#39;t be explaining things in too much depth as we want you to get started making stuff as quickly as possible, so we encourage you to explore any links as you go along and to use the &quot;search&quot; function of the manual to look for additional information on anything you aren&#39;t sure about.</p>
  <p>In this section we&#39;re going to draw information to the screen, both text and images, and also explain a bit more about the different <strong>Draw Events</strong>, specifically, the main <strong>Draw</strong> event and the <strong>Draw GUI </strong>event (note that in some of the examples you will be required to add other events, but we&#39;ll explain these as we come to them).</p>
  <p><img alt="The Draw Events" class="center" height="378" src="../assets/Images/QS_Guide/QS_DrawEvents.png" width="268" /></p>
  <p>Before going any further, you might want to make a new project from the <a href="../Introduction/The_Start_Page.htm">Start Page</a>, and add (or create) a few sprites as well as an object or two, as we&#39;ll be giving you some code that you can test using these. Even a white square will work for now as the sprite for our object!</p>
  <p>Now, as mentioned in the section on <a href="Objects_And_Instances.htm">Objects And Instances</a>, if you don&#39;t add a Draw Event to the object, then <span data-keyref="GameMaker Name">GameMaker</span> will default draw, meaning that if the object has a sprite assigned to it this sprite will be drawn, complete with any transforms that have been added.</p>
  <p>What do we mean by transforms? Well, each object has a number of built-in <a class="glossterm" data-glossterm="variable" href="#">variable</a><span class="glossextra">s</span> that will control how an instance of the object draws its sprite when default drawing, and you can change these variables as the game runs to change the way the sprite is drawn.</p>
  <p class="note"><b><span data-conref="../assets/snippets/Tag_note.hts"> </span> </b>You can find a list of all the built in variables that can be used for transforming instance sprites <a href="../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Instance_Variables/Sprite_Instance_Variables.htm">here</a>. GML Visual users have some dedicated actions that affect these variables, which you can find <a href="../Drag_And_Drop/Drag_And_Drop_Reference/Instance/Instance_Actions_Library.htm">here</a>, and you can also use the actual variables themselves along with the <a href="../Drag_And_Drop/Drag_And_Drop_Reference/Instance/Get_Instance_Variable.htm">Get Instance Variable</a>, <a href="../Drag_And_Drop/Drag_And_Drop_Reference/Instance/Set_Instance_Variable.htm">Set Instance Variable</a> and <a data-xref="{title}" href="../Drag_And_Drop/Drag_And_Drop_Reference/Common/Assign_Variable.htm">Assign Variable</a> actions.</p>
  <p>Let&#39;s look at some examples:</p>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down" href="#">Changing Alpha (Transparency)</a></p>
  <div class="droptext" data-targetname="drop_down">
    <p class="dropspot">The <strong>alpha </strong>value is what controls the transparency of what&#39;s being drawn, and in <span data-keyref="GameMaker Name">GameMaker</span>, you can use the <span class="inline">image_alpha</span> built-in variable to change how transparent the assigned sprite is. To see how this works, open (or create) an object, assign it a sprite, and then give the object a <strong>Create Event</strong>. In the Create Event, simply add the following GML Visual or GML Code:</p>
    <p class="dropspot"><img alt="GML VisualDraw Example For Transparency" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_1.png" /></p>
    <p class="code">var _val = random(1);<br />
      image_alpha = _val;</p>
    <p class="dropspot">Image alpha is calculated as a value from 0 to 1, where 0 is fully transparent and 1 is fully opaque (by default it&#39;s set to 1). So in this example, all we&#39;re doing is setting the image alpha to a random decimal value from 0 to 1. Place a few instances of this object in a room, and then click the <strong>Play </strong>button <img alt="Play Icon" class="icon" src="../assets/Images/Icons/Icon_PlayGame.png" /> at the top of the IDE.</p>
    <p class="dropspot">You should see that each instance of the object draws its sprite with a different transparency:</p>
    <p class="dropspot"><img alt="Example Of Sprites Drawn With Different Alpha Values" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_1.png" /></p>
    <p class="dropspot"> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down1" href="#">Changing Colour Blend (Tinting)</a></p>
  <div class="droptext" data-targetname="drop_down1">
    <p class="dropspot">When your object is default drawing a sprite, this sprite is actually being drawn <strong>blended </strong>(or <strong>tinted</strong>) with a colour, and this colour value is stored in the <span class="inline">image_blend</span> built-in variable. By default this colour is white, which essentially means that no colour will be added to the sprite when it is shown on the screen. However, you can use other colours to achieve special effects, for example, use red to show the instance has received some damage.</p>
    <p class="dropspot">In this example, we&#39;re going to blend different colours with the sprite while a key is pressed and held down, and so you&#39;ll need to open (or create) an object, assign it a sprite, and then give the object a <strong>Key Down &lt;Space&gt; Event</strong>.</p>
    <p class="dropspot"><img alt="Add Key Down Event" class="center" src="../assets/Images/QS_Guide/QS_Add_SpaceKeyPressEvent.png" /></p>
    <p class="dropspot">In this Key Down Event, add the following GML Visual or GML Code:</p>
    <p class="dropspot"><img alt="GML VisualExample Using Key Down Event" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_2.png" /></p>
    <p class="code">var _col = choose(c_red, c_green, c_blue, c_yellow, c_fuchsia, c_orange);<br />
      image_blend = _col;</p>
    <p class="dropspot">Place a few instances of this object in a room, and then click the Play button <img alt="Play Icon" class="icon" src="../assets/Images/Icons/Icon_PlayGame.png" /> at the top of the IDE, and test holding down and releasing the <em>Space </em>key. You should see that each instance will change it&#39;s colour rapidly while the key is held down, and stop changing when it is released:</p>
    <p class="dropspot"><img alt="Example Showing Colour Blending" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_2.png" /></p>
    <p class="dropspot"> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down2" href="#">Changing Scale</a></p>
  <div class="droptext" data-targetname="drop_down2">
    <p class="dropspot">Another pair of the properties that we can change for our sprite is the <strong>scale </strong>value, permitting us to draw it bigger or smaller whenever we want. Scale is calculated independently along the X and Y axis by two seperate variables, the <span class="inline">image_xscale</span> variable and the <span class="inline">image_yscale</span> variable. By default these are set to 1, and they act like <strong>multipliers</strong>, so a value of 0.5 would be half scale and a value of 2 would be double the scale.</p>
    <p class="note"><b><span data-conref="../assets/snippets/Tag_important.hts"> </span> </b>Changing the assigned sprite scale using these variables <strong>will also change the size of the collision mask (bounding box) to match</strong>, which means that the collision detection area for the sprite will also scale. To avoid this, create your own variables for the X and Y scale, and use them in the Draw event to draw your sprite manually with <span class="inline3_func"><a data-xref="{title}" href="../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_sprite_ext.htm">draw_sprite_ext</a></span>.</p>
    <p class="dropspot">In this example, we&#39;re going to use some simple maths to make an instance scale the sprite up and down in a loop. To start with, open (or create) an object, assign it a sprite, and then give the object a <strong>Create Event</strong>. In this event add the following:</p>
    <p class="dropspot"><img alt="GML VisualSet Variable Example" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_3_1.png" /></p>
    <p class="code">timer = 0;</p>
    <p class="dropspot">Now add a <strong>Step Event</strong> to the object with this:</p>
    <p class="dropspot"><img alt="GML VisualActions To Change Sprite Scale" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_3_2.png" /></p>
    <p class="code">timer = timer + 1;<br />
      var _val = dsin(timer);<br />
      image_xscale = 1 + _val;<br />
      image_yscale = 1 + _val;</p>
    <p class="dropspot">Here we&#39;re using the maths function <a href="../GameMaker_Language/GML_Reference/Maths_And_Numbers/Angles_And_Distance/dsin.htm"><span class="inline">dsin()</span></a> to generate a value between -1 and 1 using the timer variable, and then applying that to the scale variables (<strong>1 + _val</strong>). After placing some instances into a room and pressing the <strong>Play </strong>button <img alt="Play Icon" class="icon" src="../assets/Images/Icons/Icon_PlayGame.png" />, you should see how the instances scale up and down from a scale of 0 (<strong>1 - 1</strong>) to a scale of 2 (<strong>1 + 1</strong>) and then back again.</p>
    <p class="dropspot"><img class="center" src="../assets/Images/QS_Guide/QS_DrawExample_3.gif" title="Animation Showing Sprite Scaling" /></p>
    <p class="dropspot">One last thing... change the &quot;<span class="inline">image_yscale</span>&quot; assignment (or &quot;<strong>Vertical</strong>&quot; field in GML Visual) to &quot;<span class="inline">1 - _val</span>&quot; (change <span class="inline">+</span> to <span class="inline">-</span>) and see what happens!</p>
    <p class="dropspot"> </p>
  </div>
  <p> </p>
  <p>The above examples illustrate just some of the many ways that you can manipulate the object sprite when <span data-keyref="GameMaker Name">GameMaker</span> is default drawing, but what about if you want to draw more than one thing for an object? In those cases you need to use the <strong>Draw Event</strong> to explicitly tell <span data-keyref="GameMaker Name">GameMaker</span> what to draw, which is what we&#39;ll do in the following examples.</p>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down3" href="#">Drawing Two (or more) Sprites Together</a></p>
  <div class="droptext" data-targetname="drop_down3">
    <p class="dropspot">For this example, you&#39;ll need two sprites and one object. Call the sprites &quot;<span class="inline">spr_One</span>&quot; and &quot;<span class="inline">spr_Two</span>&quot;, and then set the &quot;<span class="inline">spr_One</span>&quot; origin to the center and for &quot;<span class="inline">spr_Two</span>&quot; set its origin to the middle-left:</p>
    <p class="dropspot"><img alt="Show Origins For Sprites" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_4_1.png" />Assign the first sprite (&quot;<span class="inline">spr_One</span>&quot; with the center origin) to the object you have created and then add a <strong>Create Even</strong>t. In the Create Event add the following GML Visual or GML:</p>
    <p class="dropspot"><img alt="Set Draw Angle Variable In DnD" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_4_1.png" /></p>
    <p class="code">draw_angle = 0;</p>
    <p class="dropspot">We are going to use this custom variable to rotate &quot;<span class="inline">spr_Two</span>&quot; over time, and draw it overlayed on the sprite assigned to the object (&quot; <span class="inline">spr_One</span>&quot;).<br />
      <br />
      To do this we need to add a <strong>Draw Event </strong>to the object. By doing this we are telling <span data-keyref="GameMaker Name">GameMaker</span> that we want to take over what the instance draws, which means that our code will include a call to the <a href="../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_self.htm"><span class="inline">draw_self()</span></a> function or <a href="../Drag_And_Drop/Drag_And_Drop_Reference/Drawing/Draw_Self.htm"><strong>Draw Self</strong></a> action. This action simply replicates what the object does when no Draw Event is present and it is default drawing the assigned sprite.
    </p>
    <p class="dropspot">We&#39;ll then draw the second sprite that we want to use as the overlay sprite that is rotating. The GML Visual and GML Code looks like this:</p>
    <p class="dropspot"><img alt="Draw Two Sprites With DnD" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_4_2.png" /></p>
    <p class="code">draw_self();<br />
      draw_angle = draw_angle + 0.5;<br />
      draw_sprite_ext(spr_Two, 0, x, y, 1, 1, draw_angle, c_red, 1);</p>
    <p class="dropspot">This uses an additional function (<span class="inline3_func"><a data-xref="{title}" href="../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_sprite_ext.htm">draw_sprite_ext</a></span>) or action (<a data-xref="{title}" href="../Drag_And_Drop/Drag_And_Drop_Reference/Drawing/Draw_Sprite_Transformed.htm">Draw Sprite Transformed</a>) to draw the second sprite (&quot;<span class="inline">spr_Two</span>&quot;) using the &quot;<span class="inline">draw_angle</span>&quot; value as the rotation, with a red blend colour.</p>
    <p class="dropspot">Add a number of instances of the object into the room editor and then press the <strong>Play </strong>button <img alt="Play Icon" class="icon" src="../assets/Images/Icons/Icon_PlayGame.png" /> at the top of the <a class="glossterm" data-glossterm="IDE" href="#">IDE</a>. If all has gone correctly you should see something like this now:</p>
    <p class="dropspot"><img alt="Animation Drawing Two Sprites Together" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_4_2.gif" /></p>
    <p class="dropspot">Before we leave this example, let&#39;s just tweak it a little bit and instead of having &quot;<span class="inline">spr_Two</span>&quot; simply rotate, we&#39;ll make it point towards the mouse position. For that we need to change the Draw Event GML Visual or GML Code to look like this:</p>
    <p class="dropspot"><img alt="Edited Draw Code For Drawing Two Sprites With DnD" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_4_3.png" /></p>
    <p class="code">draw_self();<br />
      draw_angle = point_direction(x, y, mouse_x, mouse_y);<br />
      draw_sprite_ext(spr_Two, 0, x, y, 1, 1, draw_angle, c_red, 1);</p>
    <p class="dropspot">Here we set the &quot;<span class="inline">draw_angle</span>&quot; variable to the direction from the instance&#39;s position (<span class="inline">x</span>, <span class="inline">y</span>) toward the mouse position (<span class="inline"><a href="../GameMaker_Language/GML_Reference/Game_Input/Mouse_Input/mouse_x.htm">mouse_x</a></span>, <span class="inline"><a href="../GameMaker_Language/GML_Reference/Game_Input/Mouse_Input/mouse_y.htm">mouse_y</a></span>).</p>
    <p class="dropspot">Run the project again and this time you&#39;ll see something very different!</p>
    <p class="dropspot"><img alt="Animation Drawing Two Sprites Pointing At Mouse" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_4_3.gif" />The sprite now points towards the mouse regardless of where you move it to! As you can see, layering sprites is a great way to add details to an object or to have something move independently of the &quot;base&quot; sprite assigned to the object, and it&#39;s a powerful tool that you&#39;ll probably use a lot in your own projects.</p>
    <p class="dropspot">Now for the simplicity of this example, the calculation of the &quot;<span class="inline">draw_angle</span>&quot; value was included within the Draw event, however ideally you should have it in the Step event as Draw events should only contain statements required for drawing things, with per-frame calculations kept to the Step event.</p>
    <p class="dropspot"> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down4" href="#">Drawing Things Other Than Sprites</a></p>
  <div class="droptext" data-targetname="drop_down4">
    <p class="dropspot">You can also draw things in the Draw Event that are not sprites, like text or shapes. In this example, we&#39;ll use the <span class="inline">draw_self()</span> function to draw the object sprite, but we&#39;ll also draw some other stuff, starting with some <strong>text</strong>. For this example, you&#39;ll need a sprite and an object (with the sprite assigned to it). In the object, first add a <strong>Create Event</strong> with this GML Visual or GML:</p>
    <p class="dropspot"><img alt="Setting Variables Using DnD" class="center" height="506" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_5_1_1.png" width="317" /></p>
    <p class="code">name = choose(&quot;Fred&quot;, &quot;Jonas&quot;, &quot;Sharon&quot;, &quot;Kate&quot;, &quot;Frank&quot;, &quot;John&quot;, &quot;Monica&quot;, &quot;Amanda&quot;);<br />
      number = irandom(100);</p>
    <p class="dropspot">All this does is tell <span data-keyref="GameMaker Name">GameMaker</span> to choose one of the listed names randomly and assign it to a variable, as well as generate a random number from 0 to 100 for each instance of the object. We want to draw these values to the screen, and so for that you need to now add a <strong>Draw Event</strong> and in it add the following GML Visual or GML:</p>
    <p class="dropspot"><img alt="Drawing Text Using DnD" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_5_1.png" /></p>
    <p class="code">draw_self();<br />
      draw_set_halign(fa_center);<br />
      draw_text(x, y + 32, &quot;My name is &quot; + name);<br />
      draw_text(x, y + 48, &quot;My number is &quot; + string(number));</p>
    <p class="dropspot">You&#39;ll notice in the above code that we use the <a href="../GameMaker_Language/GML_Reference/Strings/string.htm"><span class="inline">string()</span></a> function or <a href="../Drag_And_Drop/Drag_And_Drop_Reference/Data_Types/Number_To_String.htm"><strong>Number To String</strong></a> action on the &quot;<span class="inline">number</span>&quot; variable that we want to draw. This is because all text has to be made up of <em>characters</em>, not actual number values, and so we need to use this function/action to convert the number value into those characters that we want to draw.</p>
    <p class="dropspot">In this case we are taking the random number we generated and turning it into a &quot;string&quot; of characters that can be drawn. Also note that we set the text <strong>alignment</strong>. This simply tells <span data-keyref="GameMaker Name">GameMaker</span> where to start drawing the text relative to the given position, and in this case we want the text to be centered along the x-axis.</p>
    <p class="dropspot">Add a number of instances of the object into the room editor and then press the Play button <img alt="Play Icon" class="icon" src="../assets/Images/Icons/Icon_PlayGame.png" /> at the top of the IDE. You should see something like this:</p>
    <p class="dropspot"><img alt="Sprites Being Drawn Along With Text" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_5_1.png" /></p>
    <p class="dropspot">In all the examples so far we&#39;ve been drawing the sprite assigned to the instance, but that doesn&#39;t always have to be the case. <strong>You can draw anything you want</strong> in the draw event, regardless of the sprite assigned. To illustrate this point, we&#39;ll change the code that we have currently by removing the <span class="inline">draw_self()</span> call and replace with a function to draw a coloured ellipse, like this:</p>
    <p class="dropspot"><img alt="Drawing Shapes Along With Text Using DnD" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_5_2.png" /></p>
    <p class="code">draw_ellipse_colour(x - 50, y - 32, x + 50, y + 32, c_fuchsia, c_lime, false);<br />
      draw_set_halign(fa_center);<br />
      draw_text(x, y + 32, &quot;My name is &quot; + name);<br />
      draw_text(x, y + 48, &quot;My number is &quot; + string(number));</p>
    <p class="dropspot">Run the project again and you should see this:</p>
    <p class="dropspot"><img alt="Example Of Drawing Shapes And Text Together" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_5_2.png" /></p>
    <p class="dropspot">One important thing to note about this, is that even though we aren&#39;t drawing the assigned sprite, <strong>it will still be used for collision detection</strong>. So, while you may be drawing one thing, collisions will still be calculated based on the assigned sprite even if it&#39;s not visible. This is quite handy actually, as it means you can draw different sprites, but maintain a single <strong>collision mask</strong> based on the assigned sprite. Also note that you can still apply the different transforms like X/Y scale, and collisions will be based on the changed size, even though there is nothing being drawn to show this.</p>
    <p class="dropspot">You can also do the opposite, where you change the <a href="../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Instance_Variables/sprite_index.htm">sprite</a> assigned to the instance, but keep one mask by applying a sprite to the <span class="inline"><a data-xref="{title}" href="../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Instance_Variables/mask_index.htm">mask_index</a></span> variable.</p>
  </div>
  <p> </p>
  <p> </p>
  <h1>The GUI Layer</h1>
  <p>We mentioned at the top of the page that we&#39;d be talking about the <strong>Draw GUI Event</strong> as well as the Draw Event, so let&#39;s look at that now.</p>
  <p>The Draw GUI Event works on something called the <strong> <a class="glossterm" data-glossterm="GUI" href="#">GUI</a> Layer</strong>, which is a special drawing layer of a fixed width and height that is drawn over the contents of the room. The great thing about the GUI layer is that <em> it doesn&#39;t move with the room&#39;s <a href="../GameMaker_Language/GML_Reference/Cameras_And_Display/Cameras_And_Viewports/Cameras_And_View_Ports.htm">camera</a></em>, so it&#39;s the ideal place to add static GUI (or HUD) items, like scores, healthbars and other information that your game requires to communicate to the user. You can find out more information on the GUI layer from the <a href="../The_Asset_Editors/Object_Properties/Draw_Events.htm">Draw Events</a> section of the manual.</p>
  <p class="note"><b><span data-conref="../assets/snippets/Tag_note.hts"> </span> </b>Rooms can be larger than the screen size, so you can have large levels for the player to move around in. This means that in the Room Editor (or in code) you need to define a <a href="../GameMaker_Language/GML_Reference/Cameras_And_Display/Cameras_And_Viewports/Cameras_And_View_Ports.htm">camera</a><strong> </strong>that follows the action of your game. This is basically a way of setting up a fixed area of the screen to display different parts of the larger room based on - for example - the player position in the room, and is used in a lot of games. Think of the way that the view always follows the main character in classic games like Mario or Zelda. That&#39;s done with cameras. For information on setting up cameras, see <a data-xref="{text}" href="../The_Asset_Editors/Room_Properties/Room_Properties.htm#h">Cameras And Viewports</a>.</p>
  <p>The following examples are all going to be using the <strong>Draw GUI</strong> event, so you&#39;ll need to create an object and add that event to it. Note that the object doesn&#39;t need a sprite assigned, as we are not wanting to default draw anything, nor do we need it to detect collisions. Objects like this, that are only designed for drawing things or controlling certain aspects of the game are often called <strong>Controller Objects</strong>. Also note that we will be using the same object for all the examples, so we recommend that you go through these one after the other (although this is not strictly necessary).</p>
  <p><img alt="Draw GUI Event In An Object" class="center" src="../assets/Images/QS_Guide/QS_DrawGUIObject.png" /> <a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down5" href="#">Drawing Text</a></p>
  <div class="droptext" data-targetname="drop_down5">
    <p class="dropspot">When drawing to the GUI layer, the top-left corner of the window is the origin position (0, 0), and to the right is +X and down is +Y. This makes positioning text and graphics very easy, as you&#39;ll see in this example.</p>
    <p class="dropspot">All we&#39;re going to do here is draw a value that represents the player&#39;s score, so in our object we&#39;ll need to add a <strong>Create Event </strong>to initialise a variable to hold this value, like this:</p>
    <p class="dropspot"><img alt="Defining A Variable Using DnD" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_6_1.png" /></p>
    <p class="code">player_score = 0;</p>
    <p class="dropspot">We also want to add a <strong>Keyboard Down &lt;Space&gt; Event</strong> to the object, as we&#39;ll be using that to increment the score while you hold the Space key.</p>
    <p class="dropspot"><img alt="Adding A Space Key Pressed Event" class="center" src="../assets/Images/QS_Guide/QS_Add_SpaceKeyPressEvent.png" /></p>
    <p class="dropspot">In this event add the following:</p>
    <p class="dropspot"><img alt="GML VisualActions In The Space Key Event" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_6_2.png" /></p>
    <p class="code">var _val = irandom(100);<br />
      player_score = player_score + _val;</p>
    <p class="dropspot">This generates a random number from 0 to 100 and <em>adds</em> that to the &quot;<span class="inline">player_score</span>&quot; variable (in GML Visual, &quot;<strong>Relative</strong>&quot; is marked, making it an addition operation instead of assignment).</p>
    <p class="dropspot">Finally, let&#39;s draw the score value in the Draw GUI event, like this:</p>
    <p class="dropspot"><img alt="Drawing Text To The GUI Layer Using DnD" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_6_3.png" /></p>
    <p class="code">draw_set_halign(fa_left);<br />
      draw_set_colour(c_yellow);<br />
      draw_text(32, 32, &quot;SCORE:&quot;);<br />
      draw_set_colour(c_white);<br />
      var _str = string(player_score);<br />
      draw_text_transformed(32, 48, _str, 2, 2, 0);</p>
    <p class="dropspot">You&#39;ll notice how we&#39;ve used <a class="glossterm" data-glossterm="hard-coded" href="#">hard-coded</a> (or fixed) values for the x/y position of the text to be drawn, since we don&#39;t need it to be relative to any instance as we are drawing to the GUI layer. We&#39;ve also used the &quot;set colour&quot; function to change the colour of the text, as well as the &quot;transformed&quot; fucntion to make the actual score value larger, which illustrates how you can go about customising text elements in your own games.</p>
    <p class="dropspot">Add a single instance of this object to your room now and then press the <strong>Play </strong>button <img alt="Play Icon" class="icon" src="../assets/Images/Icons/Icon_PlayGame.png" />. When the game runs press the <span class="inline">&lt;Space&gt;</span> key and you should see the score value increase.</p>
    <p class="dropspot"><img alt="Animation Showing Text Being Drawn To The GUI Layer" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_6.gif" /></p>
    <p class="dropspot"> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down6" href="#">Drawing Sprites</a></p>
  <div class="droptext" data-targetname="drop_down6">
    <p class="dropspot">In this example, we are going to use the GUI layer to draw some sprites. The most obvious use for this is to draw the players lives, so lets go ahead and do just that! You&#39;ll need a sprite for this example - which should be about 64x64 pixels - but it shouldn&#39;t be assigned to the object, as we&#39;ll be drawing it ourselves.</p>
    <p class="dropspot">To start with, we need to add some new variables to the object in the <strong>Create Event</strong> (if you&#39;ve done the previous example, add the following below what&#39;s already there):</p>
    <p class="dropspot"><img alt="Defining Variables Using DnD" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_7_1.png" /></p>
    <p class="code">player_lives = 3;<br />
      gui_w = display_get_gui_width();</p>
    <p class="dropspot">In this code we initialise a variable for the player lives, but we also create a variable to hold the width of the GUI layer, so that we can position things correctly relative to the right edge of the screen.</p>
    <p class="dropspot">We could just hardcode a value into the code and use that, but that would mean that if we make any changes to the size of the room or camera later, then we&#39;d need to go through the code and change the value everywhere. Using the <a href="../GameMaker_Language/GML_Reference/Cameras_And_Display/display_get_gui_width.htm"><span class="inline">display_get_gui_width()</span></a> function instead means that we don&#39;t need to worry about any future changes like that as the code will adapt automatically to whatever size the GUI layer ends up being.</p>
    <p class="dropspot">Next we want to add a <strong>Keyboard Pressed &lt;Enter&gt; Event</strong> to the object, as we&#39;ll be using that to change the number of lives every time the Enter key is hit:</p>
    <p class="dropspot"><img alt="Adding An Enter Key Pressed Event" class="center" src="../assets/Images/QS_Guide/QS_Add_EnterKeyPressEvent.png" /></p>
    <p class="dropspot">In this event add the following:</p>
    <p class="dropspot"><img alt="GML VisualIn The Enter Key Down Event" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_7_2.png" /></p>
    <p class="code">player_lives = player_lives - 1;<br />
      <br />
      if player_lives &lt; 0<br />
      {<br />
          player_lives = 3;<br />
      }
    </p>
    <p class="dropspot">This lowers the lives by 1 each time the key is hit, and when it goes below 0, it resets it to 3.</p>
    <p class="dropspot">Finally, we need to draw the sprites to the display. For this we&#39;ll be using a &quot;<span class="inline">for</span>&quot; loop (information using GML <a href="../GameMaker_Language/GML_Overview/Language_Features/for.htm">here</a> and for GML Visual <a href="../Drag_And_Drop/Drag_And_Drop_Reference/Loops/For.htm">here</a>), along with the GUI width variable to position everything in the top right corner of the screen. So, add this into the Draw GUI Event (after any other actions that it may have from previous examples):</p>
    <p class="dropspot"><img alt="GML VisualActions To Draw Sprites To The GUI Layer" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_7_3.png" /></p>
    <p class="code">for (var i = 0; i &lt; player_lives; i += 1)<br />
      {<br />
          var _xx = gui_w - 48 - (i * 70);<br />
          draw_sprite(spr_Heart, 0, _xx, 48);<br />
      }</p>
    <p class="dropspot">If you haven&#39;t already added an instance of this object to a room, go ahead and add it now (only one!), then press the <strong>Play </strong>button <img alt="Play Icon" class="icon" height="24" src="../assets/Images/Icons/Icon_PlayGame.png" width="24" />. Once the game is running press the <span class="inline">&lt;Enter&gt;</span> key various times to see the lives change.</p>
    <p class="dropspot"><img alt="Animation Drawing Sprites To The GUI Layer" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_7.gif" /></p>
    <p class="dropspot">Before you leave this example, you should experiment with the number of lives and see what happens. At the moment it&#39;s set to 3, but change the Create Event and the Key Pressed event to set the value to 5, or 10... if you&#39;ve done everything right, then the code should adapt and draw them all correctly!</p>
    <p class="dropspot"> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop_down7" href="#">Drawing A Healthbar</a></p>
  <div class="droptext" data-targetname="drop_down7">
    <p class="dropspot">This final example covers drawing a healthbar to the GUI layer. There are a number of ways that this can be done, but <span data-keyref="GameMaker Name">GameMaker</span> has a built in function specifically for doing healthbars, so that&#39;s what we&#39;ll be using here, although you can create your own using sprites or shapes too. To start with, as before, we need to initialise a varaible to hold the health value, so add the following GML Visual or GML into the <strong>Create Event</strong> of the object (after any other code that may already be there):</p>
    <p class="dropspot"><img alt="Defining A Variable Using DnD" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_8_1.png" /></p>
    <p class="code">player_health = 100;</p>
    <p class="dropspot">We want to use the arrow keys to change the health value up or down depending on which arrow key is pressed, and we could do that by adding in two <strong>Keyboard Pressed &lt;Arrow&gt;</strong> events, however it&#39;s probably easier to use a <strong>Step Event</strong> and some code to check for the keys, so go ahead and add a <strong>Step Event</strong> now with the following GML Visual or GML:</p>
    <p class="dropspot"><img alt="Step Event GML VisualActions" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_8_2.png" /></p>
    <p class="code">if keyboard_check(vk_up)<br />
      {<br />
          if player_health &lt; 100<br />
          {<br />
              player_health = player_health + 1;<br />
          }<br />
      }<br />
      <br />
      if keyboard_check(vk_down)<br />
      {<br />
          if player_health &gt; 0<br />
          {<br />
              player_health = player_health - 1;<br />
          }<br />
      }
    </p>
    <p class="dropspot">Try to think about what this does!</p>
    <p class="dropspot">With that done, we can actually get around to drawing the healthbar, which is done in the Draw GUI event, adding the following (after anything else that is already there):</p>
    <p class="dropspot"><img alt="GML VisualFor The Draw GUI Event To Draw A Healthbar" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_DnD_8_3.png" /></p>
    <p class="code">var _xx = display_get_gui_width() / 2;<br />
      <br />
      draw_healthbar(_xx - 50, 24, _xx + 50, 40, player_health, c_black, c_red, c_lime, 0, true, true);
    </p>
    <p class="dropspot">Add an instance of this object to a room if you haven&#39;t already done so (only one, though!), and then press the <strong>Play </strong>button <img alt="Play Icon" class="icon" src="../assets/Images/Icons/Icon_PlayGame.png" />. Once the game is running press the <span class="inline">&lt;Up Arrow&gt;</span> and <span class="inline">&lt;Down Arrow&gt;</span> keys various times to see the health change.</p>
    <p class="dropspot"><img alt="Animation Of Drawing A Healthbar" class="center" src="../assets/Images/QS_Guide/QS_DrawExample_8.gif" /></p>
  </div>
  <p> </p>
  <p>We hope that after doing these examples you have a bit more confidence when using <span data-keyref="GameMaker Name">GameMaker</span> and a bit more understanding of how it all works. The next section will explore how to get these things you&#39;ve been drawing to move around the room as well as accept - and respond to - user input.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="../Content.htm">Index</a></div>
        <div style="float:right">Next: <a href="Movement_And_Controls.htm">Movement And Controls</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2023 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
Drawing
Drawing Examples
Quick Start Drawing
-->
  <!-- TAGS
qs_drawing
-->
</body>
</html>