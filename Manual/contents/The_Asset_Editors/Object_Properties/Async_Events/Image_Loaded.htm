<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Image Loaded</title>
  <meta name="generator" content="Adobe RoboHelp 2022" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page detailing the Image Loaded async event." />
  <meta name="rh-index-keywords" content="Objects - Async Image Loaded Event" />
  <meta name="search-keywords" content="Image Loaded,ev_async_web_image_load" />
  <link rel="stylesheet" type="text/css" href="../../../assets/css/default.css" />
  <script src="../../../assets/scripts/main_script.js" type="module"></script>
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><span data-field="title" data-format="default">Image Loaded</span></h1>
  <p><img alt="Image Loaded Event" class="center" src="../../../assets/Images/Asset_Editors/Async_ImageLoaded.png" />This event is triggered when you load an image into <span data-keyref="GameMaker Name">GameMaker</span> <em>asynchronously</em>. This can occur in a few situations:</p>
  <ul class="colour">
    <li>When you add a sprite with <span class="inline3_func"><a data-xref="{title}" href="../../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Manipulation/sprite_add.htm">sprite_add</a></span> on HTML5.</li>
    <li>When you pass a <a class="glossterm" data-glossterm="URL" href="#">URL</a> to <span class="inline3_func"><a data-xref="{title}" href="../../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Manipulation/sprite_add.htm">sprite_add</a></span>.</li>
    <li>When you add a sprite with <span class="inline3_func"><a data-xref="{title}" href="../../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Manipulation/sprite_add_ext.htm">sprite_add_ext</a></span>.</li>
  </ul>
  <p>For example, say you want to load a sprite image, and only change the current sprite for the instance to the new one after it has loaded. You would have something like this in the Create event (or any other event):</p>
  <p class="code_heading">Create Event</p>
  <p class="code">var _url = &quot;http://www.angusgames.com/game/background1.png&quot;;<br />
    spr = sprite_add(_url, 0, false, false, 0, 0);</p>
  <p>This will now start to load the image into the device or the browser, but it will not block <span data-keyref="GameMaker Name">GameMaker</span> while it waits for the file to be loaded. Instead, <span data-keyref="GameMaker Name">GameMaker</span> will keep running as normal until the image is loaded and the <a class="glossterm" data-glossterm="callback" href="#">callback</a> triggers the <strong>Image Loaded Event</strong>, where a <span data-keyref="Type_ID_DS_Map"><a href="../../../GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/ds_map_create.htm" target="_blank">DS Map</a></span> is created and stored in the special variable <span class="inline2"><a data-xref="{title}" href="../../../GameMaker_Language/GML_Overview/Variables/Builtin_Global_Variables/async_load.htm">async_load</a></span>. The map contains the following information:</p>
  <ul class="dropspotlist">
    <li class="dropspot">&quot;<span class="inline">filename</span>&quot;: The complete path to the file you requested.</li>
    <li class="dropspot">&quot;<span class="inline">id</span>&quot;: The ID of the resource that you have loaded. This will be the same as the variable that you have assigned the resource to.</li>
    <li class="dropspot">&quot;<span class="inline">status</span>&quot;: Returns a value of less than 0 for an error.</li>
  </ul>
  <p>You would then assign the newly loaded image to a sprite in this event. The following code example demonstrates how the returned information would be used:</p>
  <p class="code_heading">Async - Image Loaded Event</p>
  <p class="code">if (async_load[? &quot;id&quot;] == spr)<br />
    {<br />
        if (async_load[? &quot;status&quot;] &gt;= 0)<br />
        {<br />
            sprite_index = spr;<br />
        }<br />
    }</p>
  <p>The above code will first check the <span class="inline2">&quot;id&quot;</span> of the DS map that has been created, then check the <span class="inline2">&quot;status&quot;</span> of the callback. If the value is greater than or equal to 0 (signalling success), the result from the callback will be used to set the sprite index to the newly loaded image.</p>
  <p class="note"><span data-conref="../../../assets/snippets/Tag_note.hts"> </span> While the sprite is loading, <span data-keyref="GameMaker Name">GameMaker</span> uses a temporary 1x1 placeholder sprite. <span>When the async <span data-field="title" data-format="default">Image Loaded</span> event is executed, the sprite has been downloaded and the placeholder is removed. </span><a href="../../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Information/Sprite_Information.htm" title="Sprite Information">Information</a> that you request from this sprite will only be correct in this event and afterwards (for example, <span class="inline3_func"><a data-xref="{title}" href="../../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Information/sprite_get_width.htm">sprite_get_width</a></span> and <span class="inline3_func"><a data-xref="{title}" href="../../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprite_Information/sprite_get_height.htm">sprite_get_height</a></span> will return a value of 1 before that).</p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a data-xref="{title}" href="../Async_Events.htm">Async Events</a></div>
        <div style="float:right">Next: <a data-xref="{title}" href="Networking.htm">Networking</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2025 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
Asynchronous Image Loaded Event
ev_web_image_load
-->
  <!-- TAGS
ev_web_image_load
-->
</body>
</html>