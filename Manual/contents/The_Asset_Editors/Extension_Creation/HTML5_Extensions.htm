<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>HTML5 / GX.games Code Injection</title>
  <meta name="generator" content="Adobe RoboHelp 2022" />
  <link rel="stylesheet" href="../../assets/css/default.css" type="text/css" />
  <script src="../../assets/scripts/main_script.js" type="module"></script>
  <meta name="rh-authors" content="Gurpreet S. Matharoo" />
  <meta name="topic-comment" content="Page detailing how HTML5 code injection works" />
  <meta name="rh-index-keywords" content="Extensions - HTML5 Code Injection" />
  <meta name="search-keywords" content="html5 code injection, gx.games code injection, javascript, html" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><span data-field="title" data-format="default">HTML5 / GX.games Code Injection</span></h1>
  <p>You can inject custom HTML into your game&#39;s <span class="inline2">index.html</span> file through extensions. This is done by clicking on &quot;HTML5&quot; under &quot;Platform Settings&quot; in an extension&#39;s editor:</p>
  <p><img class="center" src="../../assets/Images/Asset_Editors/Editor_Extensions_HTML5.png" /></p>
  <p>This also applies to the GX.games target.</p>
  <h2>Insertion Tags</h2>
  <p>In the &quot;Code Injection&quot; window, you can add custom HTML for your <span class="inline2">index.html</span> file. Such HTML is inserted into different parts of the <span class="inline2">index.html</span> file by using the following tags:</p>
  <table>
    <colgroup>
      <col style="width:50%" />
      <col style="width:50%" />
    </colgroup>
    <tbody>
      <tr>
        <th>Tag</th>
        <th>Description</th>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_PreHead</span></td>
        <td>HTML is inserted before the <span class="inline2">&lt;head&gt;</span> starting tag</td>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_PostHead</span></td>
        <td>HTML is inserted after the <span class="inline2">&lt;/head&gt;</span> ending tag</td>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_PreStyle</span></td>
        <td>HTML is inserted inside <span class="inline2">&lt;head&gt; &lt;/head&gt;</span>, but before <span class="inline2">&lt;style&gt;</span></td>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_PostStyle</span></td>
        <td>HTML is inserted inside <span class="inline2">&lt;head&gt; &lt;/head&gt;</span>, but after <span class="inline2">&lt;/style&gt;</span></td>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_PreBody</span></td>
        <td>HTML is inserted before the <span class="inline2">&lt;body&gt;</span> starting tag</td>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_BodyStart</span></td>
        <td>HTML is inserted after the <span class="inline2">&lt;body&gt;</span> starting tag</td>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_PreCanvas</span></td>
        <td>HTML is inserted before the <span class="inline2">&lt;canvas&gt;</span> starting tag in the body</td>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_Canvas</span></td>
        <td>HTML is inserted in the <span class="inline2">&lt;canvas&gt;</span> tag in the body</td>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_PostCanvas</span></td>
        <td>HTML is inserted after the <span class="inline2">&lt;/canvas&gt;</span> ending tag in the body</td>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_BodyEnd</span></td>
        <td>HTML is inserted before the <span class="inline2">&lt;/body&gt;</span> ending tag</td>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_PostBody</span></td>
        <td>HTML is inserted after the <span class="inline2">&lt;/body&gt;</span> ending tag</td>
      </tr>
    </tbody>
  </table>
  <p>Here is an example of HTML code injected into some of the above tags:</p>
  <p><img class="center" src="../../assets/Images/Asset_Editors/Editor_Extensions_HTML5_Example.png" /></p>
  <p>Multiple extensions may inject code into the same tag, however the order of their insertions into the final HTML file cannot be guaranteed.</p>
  <h2>Variables</h2>
  <p>Within your injected HTML5 code, you may use variables that <span data-keyref="GameMaker Name">GameMaker</span> provides. You can see such variables in the example above, wrapped inside <span class="inline2">${ }</span>.</p>
  <p>You can use environment variables set up by the IDE that start with <span class="inline2">YY</span> or <span class="inline2">YYMACROS_</span>. You can also read your custom extension options by using the <span class="inline2">${YYEXTOPT_HTML5Injection_OPTIONNAME}</span> syntax.</p>
  <p>The following built-in variables can be used with the <span class="inline2">${VARIABLE}</span> syntax:</p>
  <table>
    <tbody>
      <tr>
        <th>Variable</th>
        <th>Description</th>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_BrowserTitle</span></td>
        <td>The title of the browser window</td>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_BackgroundColour</span></td>
        <td>The background colour of the page</td>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_GameWidth</span></td>
        <td>The width of the game&#39;s canvas (in pixels)</td>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_GameHeight</span></td>
        <td>The height of the game&#39;s canvas (in pixels)</td>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_GameFolder</span></td>
        <td>The name of the folder containing the HTML file</td>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_GameFilename</span></td>
        <td>The name of the HTML file</td>
      </tr>
      <tr>
        <td><span class="inline">GM_HTML5_CacheBust</span></td>
        <td>A random value used for <a href="https://www.keycdn.com/support/what-is-cache-busting">cache-busting</a>; can be added as a URL parameter in custom links to prevent the browser from getting the cached version of a file</td>
      </tr>
    </tbody>
  </table>
  <h2>Template HTML File (HTML5 Target)</h2>
  <p>You can get the template <span class="inline2">index.html</span> file from the <a href="../../Settings/Building_via_Command_Line.htm">runtime directory</a>, under <span class="inline2">runtime-[version]/html5/index.html</span>. Here you can view the template file to understand where the tags are inserted. You can make a modified copy and use it for your game instead of the default file, by adding it as an <a href="../../Settings/Included_Files.htm">Included File</a> and selecting it in the <a data-xref="{text}" href="../../Settings/Game_Options/HTML5.htm#h"> </a>.</p>
  <p>The template HTML file will contain some tags starting with <span class="inline2">GM_HTML5_Inject*</span>. These are used by <span data-keyref="GameMaker Name">GameMaker</span> to inject values from the <a href="../../Settings/Game_Options/HTML5.htm">HTML5 Game Options</a>, and as such can&#39;t be used for inserting custom code.</p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="../Extensions.htm">The Extension Editor</a></div>
        <div style="float:right">Next: <a data-xref="{title}" href="Extended_Examples.htm">Source Examples</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright YoYo Games Ltd. 2025 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
HTML5 Extensions
-->
  <!-- TAGS
extensions_html5_injection
-->
</body>
</html>